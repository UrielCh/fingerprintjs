/* eslint-disable no-console */
/* eslint-disable no-empty */
/* eslint-disable no-case-declarations */
/* eslint-disable no-sparse-arrays */
/* eslint-disable no-fallthrough */
/* eslint-disable max-len */
import 'core-js/modules/es.array.reduce.js'

/**
 * FingerprintJS Pro v3.3.0-dev.3 - Copyright (c) FingerprintJS, Inc, 2021 (https://fingerprintjs.com)
 *
 * This software contains code from open-source projects:
 * MurmurHash3 by Karan Lyons (https://github.com/karanlyons/murmurHash3.js)
 */
import { __awaiter, __generator, __rest, __spreadArrays } from 'tslib'
import {
  isChromium,
  isGecko,
  getFullscreenElement,
  murmurX64Hash128,
  isTrident,
  isWebKit,
  isDesktopSafari,
  isEdgeHTML,
  getScreenFrame,
  getComponents,
  load,
} from '@fingerprintjs/fingerprintjs'
var version = '3.3.0-dev.3'

function delay(timeout, value) {
  return new Promise(function (resolve) {
    return setTimeout(function () {
      return resolve(value)
    }, timeout)
  })
}

function delayFocused(timeout, notUsedParam) {
  return new Promise(function (n) {
    var document = document,
      onVisibilitychange = function onVisibilitychange() {
        return document.hidden ? doStop() : doStart()
      },
      o = (function (timeout2, t, n) {
        var waitingTimeout,
          startedOnce = false,
          timeout3 = timeout2,
          startTime = 0,
          theStart = function theStart() {
            startedOnce ||
              undefined !== waitingTimeout ||
              ((startTime = Date.now()),
              (waitingTimeout = setTimeout(function () {
                ;(startedOnce = true), n()
              }, timeout3)))
          }

        return (
          t && theStart(),
          {
            start: theStart,
            stop: function stop() {
              startedOnce ||
                undefined === waitingTimeout ||
                (clearTimeout(waitingTimeout), (waitingTimeout = undefined), (timeout3 -= Date.now() - startTime))
            },
          }
        )
      })(timeout, !document.hidden, function () {
        document.removeEventListener('visibilitychange', onVisibilitychange), n(notUsedParam)
      }),
      doStart = o.start,
      doStop = o.stop

    document.addEventListener('visibilitychange', onVisibilitychange)
  })
}

async function callIgnoreError(call, onerror) {
  try {
    return await call()
  } catch (e) {
    return onerror
  }
}

function randomStringEx(size, charset) {
  for (var result = '', r = 0; r < size; r++) {
    result += charset.charAt(Math.random() * charset.length)
  }
  return result
}

function randomString(size) {
  return randomStringEx(size, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789')
}

function randomByte() {
  return (256 * Math.random()) | 0
}

function makeMulticastDebugger(debugsOutput) {
  return function () {
    var args = []
    for (var n = 0; n < arguments.length; n++) {
      args[n] = arguments[n]
    }
    var tryCallIgnore = function tryCallIgnore(reportCall) {
      if (reportCall)
        callIgnoreError(function () {
          return reportCall.apply(undefined, args)
        })
    }
    for (var i = 0; i < debugsOutput.length; i++) {
      tryCallIgnore(debugsOutput[i])
    }
  }
}

function unBoxError(error, keepStack) {
  if (undefined === keepStack) keepStack = false
  let stack
  if (keepStack) stack = error.stack
  else {
    let oldStack = error.stack
    if (oldStack === null || oldStack === undefined) {
      stack = undefined
    } else {
      stack = oldStack.split('\n')
    }
  }
  return Object.assign(
    {
      name: error.name,
      message: error.message,
      stack,
    },
    error,
  )
}

function isChildWindow() {
  try {
    return window.self !== window.top
  } catch (t) {
    return true
  }
}

function getErrorMessage(errorCode) {
  switch (errorCode) {
    case 0:
      return 'Loading has started'

    case 1:
      return 'Loading has succeeded'

    case 2:
      return 'Loading has failed'

    case 3:
      return 'Getting visitor identifier has started'

    case 4:
      return 'Getting visitor identifier has succeeded'

    case 5:
      return 'Getting visitor identifier has failed'

    case 6:
      return 'Getting TLS has started'

    case 7:
      return 'Getting TLS has succeeded'

    case 8:
      return 'Getting TLS has failed'

    case 9:
      return 'TLS request try has started'

    case 10:
      return 'TLS request try has succeeded'

    case 11:
      return 'TLS request try has failed'

    case 12:
      return 'Getting fingerprint has started'

    case 13:
      return 'Getting fingerprint has succeeded'

    case 14:
      return 'Getting fingerprint has failed'

    case 15:
      return 'Visitor identifier request has started'

    case 16:
      return 'Visitor identifier request has succeeded'

    case 17:
      return 'Visitor identifier request has failed'

    case 18:
      return 'DOM blockers debug'
  }
}

function makeConsoleDebugger(debugPrefix) {
  debugPrefix = debugPrefix || '[FingerprintJS Pro] '
  return function (theError) {
    switch (theError.e) {
      case 2:
      case 5:
      case 8:
      case 11:
      case 14:
      case 17:
        console.error(formatError(debugPrefix, theError))
        break

      case 13:
        var errorMessage = formatError(debugPrefix, theError),
          i = theError.result
        Object.keys(i).some(function (e) {
          return i[e].error
        })
          ? console.warn(errorMessage)
          : console.log(errorMessage)
        break

      case 18:
        var blocked = theError.blocked,
          a = __rest(theError, ['blocked'])
        console.log(
          formatError(debugPrefix, a) +
            '\n' +
            (function (e, t) {
              if (!Object.keys(e).length) return t

              for (var n = '```', r = 0, i = Object.keys(e); r < i.length; r++) {
                var o = i[r]
                n += '\n' + o + ':'

                for (var a = 0, keys = Object.keys(e[o]); a < keys.length; a++) {
                  var value = keys[a]
                  n += '\n  ' + value + ' ' + (e[o][value] ? '🚫' : '➡️')
                }
              }

              return n + '\n```'
            })(blocked, 'Not applicable'),
        )
        break

      default:
        console.log(formatError(debugPrefix, theError))
    }
  }
}

function formatError(e, t) {
  var n = t.e,
    i = __rest(t, ['e']),
    o = '' + e + new Date().toISOString() + ': ' + getErrorMessage(n)
  Object.keys(i).length &&
    (o +=
      '\n```\n' +
      (function (e) {
        return JSON.stringify(
          e,
          function (e, error) {
            return error instanceof Error ? unBoxError(error, true) : error
          },
          2,
        )
      })(i) +
      '\n```')
  return o
}

function doHttpCall(httpCall) {
  var url = httpCall.url,
    method = httpCall.method,
    method2 = undefined === method ? 'get' : method,
    body = httpCall.body,
    header = httpCall.headers,
    withCredentials = httpCall.withCredentials,
    timeout = httpCall.timeout
  withCredentials = undefined !== withCredentials && withCredentials
  return new Promise(function (resolve, reject) {
    var xmlhttpReq = new XMLHttpRequest()
    xmlhttpReq.open(method2, url, true)
    xmlhttpReq.withCredentials = withCredentials
    xmlhttpReq.timeout = undefined === timeout ? 0 : Math.max(timeout, 1)
    for (var c in header) {
      xmlhttpReq.setRequestHeader(c, header[c])
    }

    ;(xmlhttpReq.onload = function () {
      return resolve(
        (function (e) {
          return {
            text: e.responseText,
            status: e.status,
            statusText: e.statusText,
          }
        })(xmlhttpReq),
      )
    }),
      (xmlhttpReq.ontimeout = function () {
        return reject(newError('TimeoutError', 'The request timed out'))
      }),
      (xmlhttpReq.onabort = function () {
        return reject(newError('AbortError', 'The request is aborted'))
      }),
      (xmlhttpReq.onerror = function () {
        return reject(newError('TypeError', navigator.onLine ? 'Connection error' : 'Network offline'))
      }),
      xmlhttpReq.send(
        (function (e) {
          var t,
            n = function n() {
              try {
                return new Blob([]), false
              } catch (t) {
                return true
              }
            }

          if (e instanceof ArrayBuffer) {
            if (!n()) return new Uint8Array(e)
          } else if ((null === (t = e) || undefined === t ? undefined : t.buffer) instanceof ArrayBuffer && n())
            return e.buffer

          return e
        })(body),
      )
  })
}

function newError(errorName, errorMessage) {
  var error = new Error(errorMessage)
  error.name = errorName
  return error
}

function doHttpPost(postCall) {
  const url = postCall.url
  const body = postCall.body

  if (navigator.sendBeacon) return navigator.sendBeacon(url, body)
  var xmlHttpReq = new XMLHttpRequest()
  xmlHttpReq.open(
    'POST',
    url,
    !(function () {
      var e,
        t = null === (e = window.event) || undefined === e ? undefined : e.type
      return 'pagehide' === t || 'unload' === t
    })(),
  ),
    body instanceof Blob && xmlHttpReq.setRequestHeader('Content-Type', body.type)

  try {
    xmlHttpReq.send(body)
  } catch (o) {
    return false
  }

  return true
}

function countTruthy(values) {
  return values.reduce(function (e, t) {
    return e + (t ? 1 : 0)
  }, 0)
}

function limitTextLen(text, maxLen, tailText) {
  return (
    undefined === tailText && (tailText = '...'),
    text.length <= maxLen ? text : '' + text.slice(0, Math.max(0, maxLen - tailText.length)) + tailText
  )
}

function mainLFnc(n, r) {
  return __awaiter(this, undefined, undefined, function () {
    var e, i, o, a, s, u, c
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          ;(e = Date.now()), (o = r.next()), (t.label = 1)

        case 1:
          if (o.done) return [3 /*break*/, 7]
          a = o.value
          s = a[0]
          u = a[1]
          return [4 /*yield*/, delay(s)]

        case 2:
          t.sent()
          t.label = 3

        case 3:
          t.trys.push([3, 5, , 6])
          return [4 /*yield*/, n(u)]

        case 4:
          return [2 /*return*/, t.sent()]

        case 5:
          c = t.sent()
          i = c
          o = r.next([Date.now() - e, i])
          return [3 /*break*/, 6]

        case 6:
          return [3 /*break*/, 1]

        case 7:
          if (undefined !== i) throw i
          throw new Error('The strategy must do at least 1 try')
      }
    })
  })
}

function mainNFnc(e, ppp_min) {
  var r
  return __generator(this, function (t) {
    switch (t.label) {
      case 0:
        return [4 /*yield*/, [0, undefined]]

      case 1:
        t.sent()
        r = e
        t.label = 2

      case 2:
        return [4 /*yield*/, [(r = Math.min(ppp_min, e + Math.random() * (3 * r - e))), undefined]]

      case 3:
        t.sent()
        t.label = 4

      case 4:
        return [3 /*break*/, 2]

      case 5:
        return [2]
    }
  })
}

function loadProInternal(errorFilter, arg2, onSucess, onError, asyncMtd) {
  return __awaiter(this, undefined, undefined, function () {
    var result, emitCompletion, err
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          ;(emitCompletion = function s(e) {
            for (var t = [], r = 1; r < arguments.length; r++) {
              t[r - 1] = arguments[r]
            }

            errorFilter &&
              callIgnoreError(function () {
                var r = e.apply(undefined, t)
                undefined !== r && errorFilter(r)
              })
          })(arg2),
            (t.label = 1)

        case 1:
          t.trys.push([1, 3, , 4])
          return [4 /*yield*/, asyncMtd()]
        case 2:
          result = t.sent()
          return [3 /*break*/, 4]
        case 3:
          err = t.sent()
          emitCompletion(onError, err)
          throw err
        case 4:
          emitCompletion(onSucess, result)
          return [2 /*return*/, result]
      }
    })
  })
}

function getPageViewId() {
  var window = window,
    pvid = window.__fpjs_pvid
  return (window.__fpjs_pvid = 'string' == typeof pvid ? pvid : randomString(10))
}

// used to choose inconito test
function isBrowser_() {
  // https://developer.mozilla.org/en-US/docs/Web/API/Navigator/maxTouchPoints
  // https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaCapabilities
  // https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/PointerEvent
  // https://developer.mozilla.org/en-US/docs/Web/API/VisualViewport
  // https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onafterprint
  return (
    countTruthy([
      'maxTouchPoints' in navigator,
      'mediaCapabilities' in navigator,
      'PointerEvent' in window,
      'visualViewport' in window,
      'onafterprint' in window,
    ]) >= 4
  )
}

function makeDebugReportBuilder(e) {
  return new G(e).addEvent
}

var G = (function () {
  class bigClassDef {
    constructor(e) {
      var self = this
      ;(this.onReportReady = e),
        (this.isStopped = false),
        (this.pageStartTimestamp = (function () {
          var e,
            t,
            n = performance

          if (n.timeOrigin) {
            var r =
              null ===
                (t = null === (e = n.getEntriesByType) || undefined === e ? undefined : e.call(n, 'navigation')) ||
              undefined === t
                ? undefined
                : t[0]
            if (r) return n.timeOrigin + (r.responseStart || r.unloadEventEnd)
          }

          return n.timing.domLoading || n.timing.responseStart || n.timing.unloadEventEnd
        })()),
        (this.events = {}),
        (this.addEvent = function (e) {
          if (!self.isStopped) {
            var n = {
              time: new Date(),
              type: 'agentEvent',
              event: e,
            }

            switch (
              ((0 !== e.e && 3 !== e.e) ||
                ((n.documentReadyState = document.readyState),
                (n.isPageVisible = getIsPageVisible()),
                (n.isFullscreen = getIsFullscreen()),
                (n.network = getNetworkStat())),
              self.storeAgentEvent(n),
              e.e)
            ) {
              case 2:
                self.submitReport(e.agentId, undefined)
                break

              case 4:
              case 5:
                self.submitReport(e.agentId, e.getCallId)
            }
          }
        })

      for (
        var i = [
            [
              document,
              'readystatechange',
              function () {
                return self.handleDocumentReadyStateChange()
              },
            ],
            [
              document,
              'visibilitychange',
              function () {
                return self.handleVisibilityChange()
              },
            ],
            [
              document,
              'pageshow',
              function () {
                return self.handlePageTransition(true)
              },
            ],
            [
              document,
              'pagehide',
              function () {
                return self.handlePageTransition(false)
              },
            ],
            [
              window,
              'unload',
              function () {
                return self.handlePageUnload()
              },
            ],
          ],
          o = 0,
          a = i;
        o < a.length;
        o++
      ) {
        var s = a[o],
          u = s[0],
          c = s[1],
          l = s[2]
        u.addEventListener(c, l)
      }

      var mediumLocalMtd = (function (e, t) {
          for (
            var n = document,
              r = ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange'],
              i = 0,
              o = r;
            i < o.length;
            i++
          ) {
            var a = o[i]
            n.addEventListener(a, e, t)
          }

          return function () {
            for (var i = 0, o = r; i < o.length; i++) {
              var a = o[i]
              n.removeEventListener(a, e, t)
            }
          }
        })(function () {
          return self.handleFullscreenChange()
        }),
        registerConnectionStatusChange = (function (onCnxChange) {
          var navigatorConnection = navigator.connection
          return (null == navigatorConnection ? undefined : navigatorConnection.addEventListener)
            ? (navigatorConnection.addEventListener('change', onCnxChange),
              function () {
                navigatorConnection.removeEventListener('change', onCnxChange)
              })
            : (addEventListener('online', onCnxChange),
              addEventListener('offline', onCnxChange),
              function () {
                removeEventListener('online', onCnxChange), removeEventListener('offline', onCnxChange)
              })
        })(function () {
          return self.handleNetworkConnectionChange()
        })

      this.stop = function () {
        self.isStopped = true

        for (var e = 0, n = i; e < n.length; e++) {
          var r = n[e],
            eventTarget = r[0],
            eventName = r[1],
            eventMtd = r[2]
          eventTarget.removeEventListener(eventName, eventMtd)
        }

        mediumLocalMtd()
        registerConnectionStatusChange()
      }
    }
    handleDocumentReadyStateChange() {
      this.storeEnvironmentEvent({
        time: new Date(),
        type: 'documentReadyState',
        state: document.readyState,
      })
    }
    handleVisibilityChange() {
      this.storeEnvironmentEvent({
        time: new Date(),
        type: 'pageVisibilityToggle',
        isVisible: getIsPageVisible(),
      })
    }
    handlePageTransition(e) {
      this.storeEnvironmentEvent({
        time: new Date(),
        type: 'pageTransition',
        isShown: e,
      })
    }
    handleFullscreenChange() {
      this.storeEnvironmentEvent({
        time: new Date(),
        type: 'fullscreenToggle',
        isFullscreen: getIsFullscreen(),
      })
    }
    handleNetworkConnectionChange() {
      this.storeEnvironmentEvent({
        time: new Date(),
        type: 'networkChange',
        network: getNetworkStat(),
      })
    }
    handlePageUnload() {
      this.storeEnvironmentEvent({
        time: new Date(),
        type: 'pageUnload',
      })

      for (var e = 0, t = Object.keys(this.events); e < t.length; e++) {
        var n = t[e],
          r = this.events[n]
        if (0 === Object.keys(r.getCalls).length) this.submitReport(n, undefined)
        else
          for (var i = 0, o = Object.keys(r.getCalls); i < o.length; i++) {
            var a = o[i]
            UFuncGlobal(r.getCalls[a]) || this.submitReport(n, a)
          }
      }

      this.stop()
    }
    storeAgentEvent(e) {
      var t = e.event,
        n = t.agentId

      switch (
        (this.events[n] ||
          (this.events[n] = {
            loadEvents: [],
            getCalls: {},
          }),
        t.e)
      ) {
        case 0:
        case 1:
        case 2:
          this.events[n].loadEvents.push(e)
          break

        default:
          var r = t.getCallId
          this.events[n].getCalls[r] || (this.events[n].getCalls[r] = []), this.events[n].getCalls[r].push(e)
      }
    }
    storeEnvironmentEvent(e) {
      for (var t = 0, n = Object.keys(this.events); t < n.length; t++) {
        var r = n[t],
          i = this.events[r]
        i.loadEvents.some(function (e) {
          return 'agentEvent' === e.type && (1 === e.event.e || 2 === e.event.e)
        }) || i.loadEvents.push(e)

        for (var o = 0, a = Object.keys(i.getCalls); o < a.length; o++) {
          var s = a[o],
            u = i.getCalls[s]
          UFuncGlobal(u) || u.push(e)
        }
      }
    }
    submitReport(e, t) {
      var r = (function (e, t) {
        for (
          var r,
            i,
            o,
            a,
            s,
            u,
            c,
            l,
            d,
            f,
            v,
            h = (function (e) {
              for (var t = {}, n = 0, r = e; n < r.length; n++) {
                var i = r[n]
                'agentEvent' === i.type && (t[i.event.e] = i)
              }

              return t
            })(e),
            p = (function (e) {
              for (var t = {}, n = 0, r = e; n < r.length; n++) {
                var i = r[n]
                if ('agentEvent' === i.type)
                  switch (i.event.e) {
                    case 9:
                    case 10:
                    case 11:
                      t[i.event.tryNumber] || (t[i.event.tryNumber] = {}), (t[i.event.tryNumber][i.event.e] = i)
                  }
              }

              for (var o = [], a = 0, s = Object.keys(t); a < s.length; a++) {
                var u = s[a]
                o.push(t[u])
              }

              return o
            })(e),
            m =
              null !== (i = null === (r = e[e.length - 1]) || undefined === r ? undefined : r.time) && undefined !== i
                ? i
                : new Date(),
            g = 'null',
            b = 0,
            w = [
              [4, 'getSuccess'],
              [5, 'getFail'],
              [3, 'getting'],
              [1, 'loadSuccess'],
              [2, 'loadFail'],
              [0, 'loading'],
            ];
          b < w.length;
          b++
        ) {
          var y = w[b],
            k = y[0],
            _ = y[1]

          if (h[k]) {
            g = _
            break
          }
        }

        return {
          time:
            null !== (a = null === (o = e[e.length - 1]) || undefined === o ? undefined : o.time) && undefined !== a
              ? a
              : new Date(),
          pageUrl: location.href,
          pageStartTime: new Date(t),
          isInIframe: isChildWindow(),
          agentVersion: null === (s = h[0]) || undefined === s ? undefined : s.event.version,
          userAgent: navigator.userAgent,
          pageViewId: getPageViewId(),
          agentId: null === (u = h[0]) || undefined === u ? undefined : u.event.agentId,
          getCallId: null === (c = h[3]) || undefined === c ? undefined : c.event.getCallId,
          requestId:
            null !== (d = null === (l = h[4]) || undefined === l ? undefined : l.event.requestId) && undefined !== d
              ? d
              : null === (f = h[5]) || undefined === f
              ? undefined
              : f.event.requestId,
          visitorId: null === (v = h[4]) || undefined === v ? undefined : v.event.visitorId,
          identificationState: g,
          load: VFunGlobal(m, h[0], h[1], h[2]),
          get: VFunGlobal(m, h[3], h[4], h[5]),
          tls: appendToObjectZ(VFunGlobal(m, h[6], h[7], h[8]), function () {
            var e, t, r
            let i = m
            return Object.assign(
              {
                timeout:
                  null !== (t = null === (e = h[6]) || undefined === e ? undefined : e.event.timeout) && undefined !== t
                    ? t
                    : NaN,
              },
              {
                triesCount: (r = p).length,
                triesTotalDuration: r.reduce(function (e, t) {
                  var n,
                    r,
                    o = t[9],
                    a = null !== (n = t[10]) && undefined !== n ? n : t[11]
                  return o
                    ? e +
                        (null !== (r = null == a ? undefined : a.time) && undefined !== r ? r : i).getTime() -
                        o.time.getTime()
                    : e
                }, 0),
              },
            )
          }),
          fingerprint: VFunGlobal(m, h[12], h[13], h[14], function (e) {
            var t = e.event
            return {
              failedComponents: getFailedComponents(t.result),
              componentDurations: getComponentDurations(t.result),
            }
          }),
          visitorIdRequest: VFunGlobal(m, h[15], h[16], h[17], function (e) {
            return {
              responseStatus: e.event.status,
            }
          }),
          events: e,
        }
      })(
        (function (e, t, n) {
          var r,
            i = []
          e[t] &&
            (i.push.apply(i, e[t].loadEvents),
            undefined !== n && i.push.apply(i, null !== (r = e[t].getCalls[n]) && undefined !== r ? r : []))
          return i
        })(this.events, e, t),
        this.pageStartTimestamp,
      )

      try {
        this.onReportReady(r)
      } catch (i) {
        console.error(i)
      }
    }
  }
  return bigClassDef
})()

function UFuncGlobal(e) {
  return e.some(function (e) {
    return 'agentEvent' === e.type && (4 === e.event.e || 5 === e.event.e)
  })
}

function VFunGlobal(e, t, r, i, filterSucess) {
  if (undefined !== t)
    return undefined !== r
      ? Object.assign(Object.assign({}, null == filterSucess ? undefined : filterSucess(r)), {
          duration: r.time.getTime() - t.time.getTime(),
          state: 'success',
        })
      : undefined !== i
      ? {
          duration: i.time.getTime() - t.time.getTime(),
          state: 'fail',
          error: i.event.error,
        }
      : {
          duration: e.getTime() - t.time.getTime(),
          state: 'incomplete',
        }
}

function appendToObjectZ(e, t) {
  return e ? Object.assign(Object.assign({}, e), t()) : undefined
}

function getFailedComponents(results) {
  return Object.keys(results).filter(function (t) {
    return results[t].error
  })
}

function getComponentDurations(results) {
  const r = Object.keys(results)
  const out = {}
  for (var n = 0; n < r.length; n++) {
    var name = r[n]
    out[name] = results[name].duration
  }
  return out
}

function getIsPageVisible() {
  return !document.hidden
}

function getIsFullscreen() {
  return !!getFullscreenElement()
}

function getNetworkStat() {
  var e = navigator.connection
  return {
    online: navigator.onLine,
    downlink: null == e ? undefined : e.downlink,
    downlinkMax: null == e ? undefined : e.downlinkMax,
    effectiveType: null == e ? undefined : e.effectiveType,
    roundTrip: null == e ? undefined : e.rtt,
    saveData: null == e ? undefined : e.saveData,
    type: null == e ? undefined : e.type,
  }
}

function makeRemoteDebugger(n) {
  var that = this,
    clientId = n.clientId,
    token = n.token,
    endpoint = n.endpoint,
    endpoint2 = undefined === endpoint ? 'https://api.rollbar.com/api/1/item/' : endpoint
  return new G(function (gParam1) {
    return __awaiter(that, undefined, undefined, function () {
      var dataGetter
      return __generator(this, function (t) {
        switch (t.label) {
          case 0:
            dataGetter = (function (e, clientId, token, r) {
              return {
                access_token: token,
                data: Y(e, clientId, r),
              }
            })(gParam1, clientId, token)
            return [4 /*yield*/, beaconTelemetry(endpoint2, dataGetter)]

          case 1:
            return t.sent(), [2]
        }
      })
    })
  }).addEvent
}

function Y(eeeE, environment, uuid) {
  var r, o
  undefined === uuid &&
    (uuid = [8, 4, 4, 4, 12]
      .map(function (e) {
        return randomStringEx(e, '0123456789abcdef')
      })
      .join('-'))
  var a = Q[eeeE.identificationState],
    level = a.level,
    message = a.message
  return {
    environment: environment,
    level: level,
    timestamp: Math.round(eeeE.time.getTime() / 1000),
    platform: 'browser',
    framework: 'FingerprintJS Pro',
    language: 'javascript',
    uuid: uuid,
    notifier: {
      name: 'FingerprintJS Pro monitoring',
      version: '3.3.0-dev.3',
    },
    request: {
      url: eeeE.pageUrl,
      query_string: (null !== (r = /\?.*$/.exec(eeeE.pageUrl)) && undefined !== r ? r : [''])[0],
      user_ip: '$remote_ip',
    },
    client: {
      javascript: {
        browser: eeeE.userAgent,
        code_version: eeeE.agentVersion,
      },
    },
    person:
      undefined === eeeE.visitorId
        ? undefined
        : {
            id: 'visitorId:' + eeeE.visitorId,
          },
    body: {
      telemetry: __spreadArrays(
        [
          {
            level: 'debug',
            source: 'client',
            timestamp_ms: eeeE.pageStartTime.getTime(),
            type: 'manual',
            body: {
              message: 'Page starts',
              '~~hack~componentDurations':
                'success' === (null === (o = eeeE.fingerprint) || undefined === o ? undefined : o.state)
                  ? te(eeeE.fingerprint.componentDurations)
                  : undefined,
            },
          },
        ],
        eeeE.events.map(Z),
      ),
      message: {
        body: message,
      },
    },
    custom: {
      isInIframe: eeeE.isInIframe,
      pageViewId: eeeE.pageViewId,
      agentId: eeeE.agentId,
      getCallId: eeeE.getCallId,
      requestId: eeeE.requestId,
      visitorId: eeeE.visitorId,
      identificationState: eeeE.identificationState,
      load: eeeE.load,
      get: eeeE.get,
      tls: eeeE.tls,
      fingerprint: ee(eeeE.fingerprint),
      visitorIdRequest: eeeE.visitorIdRequest,
    },
  }
}

var Q = {
  null: {
    level: 'info',
    message: "Load() wasn't called",
  },
  loading: {
    level: 'warning',
    message: 'Load() incomplete',
  },
  loadSuccess: {
    level: 'info',
    message: "Load() succeeded, get() wasn't called",
  },
  loadFail: {
    level: 'error',
    message: 'Load() failed',
  },
  getting: {
    level: 'warning',
    message: 'Get() incomplete',
  },
  getSuccess: {
    level: 'info',
    message: 'Get() succeeded',
  },
  getFail: {
    level: 'error',
    message: 'Get() failed',
  },
}

function Z(eventObj) {
  var t = {
    type: 'manual',
    level: 'debug',
    source: 'client',
    timestamp_ms: eventObj.time.getTime(),
  }

  switch (eventObj.type) {
    case 'documentReadyState':
      return Object.assign(Object.assign({}, t), {
        body: {
          message: 'Document ready state becomes "' + eventObj.state + '"',
        },
      })

    case 'pageVisibilityToggle':
      return Object.assign(Object.assign({}, t), {
        body: {
          message: 'Page becomes ' + (eventObj.isVisible ? 'visible (in foreground)' : 'invisible (in background)'),
        },
      })

    case 'pageTransition':
      return Object.assign(Object.assign({}, t), {
        body: {
          message: eventObj.isShown
            ? 'Page is restored from browser history'
            : 'Page is about to go to browser history',
        },
      })

    case 'fullscreenToggle':
      return Object.assign(Object.assign({}, t), {
        body: {
          message: 'Programmatic fullscreen ' + (eventObj.isFullscreen ? 'on' : 'off'),
        },
      })

    case 'networkChange':
      return Object.assign(Object.assign({}, t), {
        body: Object.assign(Object.assign({}, eventObj.network), {
          message: 'Network connection changes',
        }),
      })

    case 'pageUnload':
      return Object.assign(Object.assign({}, t), {
        body: {
          message: 'Page is about to unload (terminate)',
        },
      })
  }

  var event = eventObj.event,
    formatData = function formatData(_data, level) {
      undefined === level && (level = 'info')

      for (
        var a = Object.assign(Object.assign({}, t), {
            level: level,
            body: Object.assign(
              {
                message: getErrorMessage(event.e),
              },
              _data,
            ),
          }),
          s = 0,
          u = ['documentReadyState', 'isPageVisible', 'isFullscreen', 'network'];
        s < u.length;
        s++
      ) {
        var c = u[s]
        undefined !== eventObj[c] && (a.body[c] = eventObj[c])
      }

      return a
    }

  switch (event.e) {
    case 0:
    case 3:
      return formatData({
        options: event.options,
      })

    case 1:
    case 12:
      return formatData({})

    case 2:
    case 5:
    case 8:
    case 14:
    case 17:
      return formatData(
        {
          error: event.error,
        },
        'error',
      )

    case 4:
      return formatData({
        result: event.result,
      })

    case 6:
      return formatData({
        endpoint: event.endpoint,
        timeout: event.timeout,
      })

    case 7:
      return formatData({
        result: limitTextLen(event.result, 1000),
      })

    case 9:
      return formatData({
        tryNumber: event.tryNumber,
        timeout: event.timeout,
      })

    case 10:
      return formatData({
        tryNumber: event.tryNumber,
        status: event.status,
        body: limitTextLen(event.body, 1000),
      })

    case 11:
      return formatData(
        {
          tryNumber: event.tryNumber,
          error: event.error,
        },
        'error',
      )

    case 13:
      return formatData({
        result: encodeToBeacon(event.result),
      })

    case 15:
      return formatData({
        endpoint: event.endpoint,
        request: event.request,
      })

    case 16:
      return formatData({
        status: event.status,
        body: limitTextLen(event.body, 4e3),
      })

    case 18:
      return formatData({
        blocked: ne(event.blocked),
      })
  }
}

function ee(e) {
  if (!e || 'incomplete' === e.state || 'fail' === e.state) return e
  e.componentDurations
  var t = __rest(e, ['componentDurations']),
    failedComponents = e.failedComponents.length ? ',' + e.failedComponents.join(',') + ',' : undefined
  return { ...t, failedComponents }
}

function te(e, t) {
  undefined === t && (t = '_')

  for (var r = Object.assign({}, e), i = 0, o = Object.keys(e); i < o.length; i++) {
    var a = o[i]

    if (/^\d+$/.test(a)) {
      delete r[a]
      var s = a

      do {
        s = '' + t + s
      } while (s in r)

      r[s] = e[a]
    }
  }

  return r
}

function ne(e) {
  for (var t = [], n = 0, r = Object.keys(e); n < r.length; n++) {
    for (var i = r[n], o = 0, a = Object.keys(e[i]); o < a.length; o++) {
      var s = a[o]
      e[i][s] && t.push(s)
    }
  }

  return t
}

function encodeToBeacon(result) {
  var t,
    r = '(removed to fit into beacon)'
  return (function (e, t) {
    for (var r = {}, i = 0, o = Object.keys(e); i < o.length; i++) {
      var a = o[i]
      !e[a].error && t[a]
        ? (r[a] = Object.assign(Object.assign({}, e[a]), {
            error: undefined,
            value: t[a](e[a].value),
          }))
        : (r[a] = e[a])
    }

    return r
  })(
    result,
    (((t = {
      plugins: function plugins(e) {
        return e && r
      },
    })[3] = function (e) {
      return Object.assign(Object.assign({}, e), {
        data: r,
      })
    }),
    (t[24] = function () {
      return r
    }),
    (t[27] = function () {
      return r
    }),
    (t[28] = function (e) {
      return e && r
    }),
    t),
  )
}

function beaconTelemetry(r, i) {
  return __awaiter(this, undefined, undefined, function () {
    var e
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          return (
            (e = (function (e) {
              var t = function t(e) {
                  return JSON.stringify(e, function (e, t) {
                    if (t instanceof Error) {
                      var n = unBoxError(t)
                      return 'string' == typeof n.stack && (n.stack = limitTextLen(n.stack, 1000)), n
                    }

                    return t
                  })
                },
                r = 65536,
                i = t(e)

              ;(o = i),
                ('function' == typeof TextEncoder
                  ? new TextEncoder().encode(o).length
                  : unescape(encodeURI(o)).length) > r &&
                  (i = t(
                    (function (e, t) {
                      var r
                      return Object.assign(Object.assign({}, e), {
                        data: Object.assign(Object.assign({}, e.data), {
                          body: Object.assign(Object.assign({}, e.data.body), {
                            telemetry: [
                              {
                                source: 'client',
                                level: 'warning',
                                timestamp_ms: Date.now(),
                                type: 'manual',
                                body: {
                                  message:
                                    'The Rollbar request body exceeded Beacon limit of ' +
                                    t +
                                    ' bytes, therefore some data have been omitted',
                                },
                              },
                            ],
                          }),
                          custom: {
                            identificationState:
                              null === (r = e.data.custom) || undefined === r ? undefined : r.identificationState,
                            exceedsBeaconLimit: true,
                          },
                        }),
                      })
                    })(e, r),
                  ))
              var o
              return i
            })(i)),
            [
              4 /*yield*/,
              mainLFnc(function () {
                if (
                  !navigator.onLine ||
                  !doHttpPost({
                    url: r,
                    body: e,
                  })
                )
                  throw new Error()
              }, mainNFnc(1000, 10000)),
            ]
          )

        case 1:
          return t.sent(), [2]
      }
    })
  })
}

var endpoints = {
  us: 'https://api.sjpf.io',
  eu: 'https://tls-eun1.fpapi.io',
}

function aaaeee(endpoint, timeout, iiaiiia) {
  return __awaiter(this, undefined, undefined, function () {
    return __generator(this, function (/*o*/) {
      return [
        2 /*return*/,
        loadProInternal(
          iiaiiia,
          function () {
            return {
              e: 6,
              endpoint: endpoint,
              timeout: timeout,
            }
          },
          function (result) {
            return {
              e: 7,
              result,
            }
          },
          function (error) {
            return {
              e: 8,
              error: error,
            }
          },
          function () {
            return mainLFnc(
              function (r) {
                var o = r.timeout,
                  a = r.number
                return (function (n, r, i, o) {
                  return __awaiter(this, undefined, undefined, function () {
                    var e
                    return __generator(this, function (t) {
                      switch (t.label) {
                        case 0:
                          return (
                            t.trys.push([0, 2, , 3]),
                            [
                              4 /*yield*/,
                              loadProInternal(
                                o,
                                function () {
                                  return {
                                    e: 9,
                                    tryNumber: i,
                                    timeout: r,
                                  }
                                },
                                function (e) {
                                  var t = e.status,
                                    n = e.text
                                  return {
                                    e: 10,
                                    tryNumber: i,
                                    status: t,
                                    body: n,
                                  }
                                },
                                function (e) {
                                  return {
                                    e: 11,
                                    tryNumber: i,
                                    error: e,
                                  }
                                },
                                function () {
                                  return doHttpCall({
                                    url: n,
                                    timeout: r,
                                  })
                                },
                              ),
                            ]
                          )

                        case 1:
                          return (e = t.sent()), [3 /*break*/, 3]

                        case 2:
                          switch (t.sent().name) {
                            case 'AbortError':
                              throw new Error('Abort')

                            case 'TimeoutError':
                              throw new Error('Timeout')

                            default:
                              throw new Error('Connection error')
                          }

                        case 3:
                          if (200 === e.status) return [2 /*return*/, e.text]
                          throw new Error(limitTextLen(e.status + ': ' + e.text, 255))
                      }
                    })
                  })
                })(endpoint, o, a, iiaiiia)
              },
              (function (param1_number, param2_num, param3_timeout, param4_max, param5_min) {
                var a, s, u, c, l, d, f
                undefined === param2_num && (param2_num = 200)
                undefined === param3_timeout && (param3_timeout = 10000)
                undefined === param4_max && (param4_max = 5)
                undefined === param5_min && (param5_min = Math.max(5e3, param1_number / 3))
                return __generator(this, function (v) {
                  switch (v.label) {
                    case 0:
                      ;(a = (function (e, n) {
                        var r, i, o, a, s, u, c
                        return __generator(this, function (t) {
                          switch (t.label) {
                            case 0:
                              return (i = r ? n.next(r) : n.next()).done
                                ? [2]
                                : ((o = r ? r[0] : 0),
                                  (a = i.value),
                                  (s = a[0]),
                                  (u = a[1]),
                                  (c = e - o - s) <= 0 ? [3 /*break*/, 3] : [4 /*yield*/, [s, [c, u]]])

                            case 1:
                              ;(r = t.sent()), (t.label = 2)

                            case 2:
                              return [3 /*break*/, 0]

                            case 3:
                              return [2]
                          }
                        })
                      })(
                        Math.max(1, param1_number),
                        (function (e) {
                          var n, r, i, o, a, s, u
                          return __generator(this, function (t) {
                            switch (t.label) {
                              case 0:
                                ;(n = 0), (t.label = 1)

                              case 1:
                                return (i = r ? e.next(r) : e.next()).done
                                  ? [2]
                                  : ((o = r ? r[0] : 0),
                                    (a = i.value),
                                    (s = a[0]),
                                    (u = a[1]),
                                    [4 /*yield*/, [(n = Math.max(o, n + s)) - o, u]])

                              case 2:
                                ;(r = t.sent()), (t.label = 3)

                              case 3:
                                return [3 /*break*/, 1]

                              case 4:
                                return [2]
                            }
                          })
                        })(mainNFnc(param2_num, param3_timeout)),
                      )),
                        (u = 0),
                        (v.label = 1)

                    case 1:
                      return u < param4_max
                        ? (c = s ? a.next(s) : a.next()).done
                          ? [3 /*break*/, 4]
                          : ((l = c.value),
                            (d = l[0]),
                            (f = l[1][0]),
                            [
                              4 /*yield*/,
                              [
                                d,
                                {
                                  number: u,
                                  timeout: Math.min(param5_min, f),
                                },
                              ],
                            ])
                        : [3 /*break*/, 4]

                    case 2:
                      ;(s = v.sent()), (v.label = 3)

                    case 3:
                      return ++u, [3 /*break*/, 1]

                    case 4:
                      return [2]
                  }
                })
              })(timeout),
            )
          },
        ),
      ]
    })
  })
}

function bundleData(processedData) {
  const bundle = {}

  let components = processedData.components,
    token = processedData.token,
    visitorId = processedData.visitorId,
    tag = processedData.tag,
    ipResolution = processedData.ipResolution,
    extendedResult = processedData.extendedResult,
    linkedId = processedData.linkedId,
    tls = processedData.tls,
    tlsError = processedData.tlsError,
    totalDuration = Object.keys(components).reduce(function (acc, key) {
      return acc + components[key].duration
    }, 0),
    oneOrTwo = 'full' === ipResolution ? 2 : 1
  bundle.c = token
  bundle.url = location.href
  bundle.d = totalDuration
  bundle.vid = visitorId[0] || visitorId[1] || undefined
  bundle.ls = visitorId[1] ? 1 : undefined
  bundle.t = (function (e) {
    if (e && 'object' == typeof e) return e
    if (null == e) return
    return {
      tag: e,
    }
  })(tag)
  bundle.i = oneOrTwo
  bundle.cbd = extendedResult ? 1 : undefined
  bundle.lid = linkedId
  bundle.cr = document.referrer || undefined
  bundle.j = tls
  bundle.je = null == tlsError ? undefined : tlsError.message
  bundle.k1 = valueFromComposant(components.osCpu)
  bundle.k2 = valueFromComposant(components.languages)
  bundle.k3 = valueFromComposant(components.colorDepth)
  bundle.k4 = valueFromComposant(components.deviceMemory)
  bundle.k5 = valueFromComposant(components.screenResolution)
  bundle.k6 = valueFromComposant(components[0], undefined, [])
  bundle.k7 = valueFromComposant(components.hardwareConcurrency, undefined, 1)
  bundle.k8 = valueFromComposant(components[1])
  bundle.k9 = valueFromComposant(components[2])
  bundle.k10 = ge(valueFromComposant(components.sessionStorage))
  bundle.k11 = ge(valueFromComposant(components.localStorage))
  bundle.k12 = ge(valueFromComposant(components.indexedDB))
  bundle.k13 = ge(valueFromComposant(components.openDatabase))
  bundle.k14 = valueFromComposant(components.cpuClass)
  bundle.k15 = valueFromComposant(components[5])

  bundle.k16 = (function (e) {
    if (e.error || isTrident()) return []
    return e.value
  })(components.plugins)
  bundle.k17 = de(valueFromComposant(components[3]))
  bundle.k18 = 0
  bundle.k19 = valueFromComposant(components.touchSupport)
  bundle.k20 = valueFromComposant(components.fonts, [])
  bundle.k21 = valueFromComposant(components.audio, -4)
  bundle.k22 = ge(valueFromComposant(components[4]))
  bundle.k23 = valueFromComposant(components.productSub)
  bundle.k24 = valueFromComposant(components.emptyEvalLength)
  bundle.k25 = ge(valueFromComposant(components.errorFF))
  bundle.k26 = ge(valueFromComposant(components[6]))
  bundle.k27 = valueFromComposant(components.vendor)
  bundle.k28 = ge(valueFromComposant(components.chrome))
  bundle.k29 = ge(valueFromComposant(components[7]))
  bundle.k30 = ge(valueFromComposant(components[8]))
  bundle.k31 = ge(valueFromComposant(components[9], false))
  bundle.k32 = ge(valueFromComposant(components.cookiesEnabled, false))
  bundle.k33 = ge(valueFromComposant(components[10]))
  bundle.k35 = (function (e) {
    var t = e.value
    if (!t) return
    if ('number' == typeof t)
      return {
        s: t,
        v: null,
      }
    return {
      s: 0,
      v: t.map(function (e) {
        return limitTextLen(e, 255)
      }),
    }
  })(components[11])
  bundle.s1 = pe(components.osCpu, -1)
  bundle.s2 = he(components.languages)
  bundle.s3 = he(components.colorDepth)
  bundle.s4 = pe(components.deviceMemory, -1)
  bundle.s5 = he(components.screenResolution)
  bundle.s6 = fe(components[21], function (e) {
    return {
      s: 0,
      v: e.map(function (e) {
        return null === e ? -1 : e
      }),
    }
  })
  bundle.s7 = pe(components.hardwareConcurrency, -1)
  bundle.s9 = he(components.timezone)
  bundle.s10 = he(components.sessionStorage)
  bundle.s11 = he(components.localStorage)
  bundle.s12 = pe(components.indexedDB, -1)
  bundle.s13 = he(components.openDatabase)
  bundle.s14 = pe(components.cpuClass, -1)
  bundle.s15 = he(components.platform)
  bundle.s16 = pe(components.plugins, -1)
  bundle.s17 = fe(components.canvas, function (e) {
    return {
      s: 0,
      v: de(e),
    }
  })
  bundle.s19 = he(components.touchSupport)
  bundle.s20 = he(components.fonts)
  bundle.s21 = fe(components.audio, function (e) {
    return -1 === e || -2 === e || -3 === e
      ? {
          s: e,
          v: null,
        }
      : {
          s: 0,
          v: e,
        }
  })
  bundle.s23 = pe(components.productSub, -1)
  bundle.s24 = he(components.emptyEvalLength)
  bundle.s25 = he(components.errorFF)
  bundle.s26 = pe(components[6], -1)
  bundle.s27 = he(components.vendor)
  bundle.s28 = he(components.chrome)
  bundle.s29 = pe(components[7], -1)
  bundle.s30 = he(components[8])
  bundle.s31 = he(components[9])
  bundle.s32 = he(components.cookiesEnabled)
  bundle.s33 = he(components[10])
  bundle.s34 = fe(components[11], function (e) {
    return 'number' == typeof e
      ? {
          s: e,
          v: null,
        }
      : {
          s: 0,
          v: e.map(function (e) {
            return limitTextLen(e, 255)
          }),
        }
  })
  bundle.s35 = fe(components[12], function (e) {
    return e
  })
  bundle.s36 = pe(components[13], -1)
  bundle.s37 = pe(components[14], -1)
  bundle.s38 = pe(components[18], -1)
  bundle.s39 = pe(components[16], -1)
  bundle.s40 = pe(components[20], -1)
  bundle.s41 = pe(components[15], -1)
  bundle.s42 = pe(components[17], -1)
  bundle.s43 = pe(components[19], -1)
  bundle.s44 = pe(components[22], -1)
  bundle.s45 = he(components[23])
  bundle.s46 = fe(components[24], function (e) {
    return {
      s: 0,
      v: murmurX64Hash128(
        Object.keys(e)
          .map(function (t) {
            return t + '=' + e[t]
          })
          .join(','),
      ),
    }
  })
  bundle.s47 = fe(components[28], function (e) {
    return {
      s: e ? 0 : -1,
      v: e
        ? Object.assign(Object.assign({}, e), {
            contextAttributes: murmurX64Hash128(e.contextAttributes),
            parameters: murmurX64Hash128(e.parameters),
            shaderPrecisions: murmurX64Hash128(e.shaderPrecisions),
            extensions: murmurX64Hash128(e.extensions),
            extensionParameters: murmurX64Hash128(e.extensionParameters),
            fingerprint: murmurX64Hash128(e.fingerprint),
          })
        : null,
    }
  })
  bundle.s49 = pe(components[25], -1)
  bundle.s50 = pe(components[26], -1)
  bundle.s51 = fe(components[27], function (e) {
    var t = e[0]
    return {
      s: e[1] ? 0 : 1,
      v: t,
    }
  })
  return bundle
}

function de(e) {
  if (e)
    return Object.assign(Object.assign({}, e), {
      data: murmurX64Hash128(e.data),
    })
}

function fe(e, t) {
  return e.error
    ? {
        e: ve(e.error),
      }
    : t(e.value)
}

function ve(e) {
  var t

  try {
    ;(t = '' + e.message), 'name' in e && (t = e.name + ': ' + t)
  } catch (e) {
    t = 'Code 3017: ' + e.name + ': ' + e.message
  }

  return limitTextLen(t, 500)
}

function he(e) {
  return fe(e, function (e) {
    return {
      s: 0,
      v: e,
    }
  })
}

function pe(e, t) {
  return fe(e, function (e) {
    return {
      s: null == e ? t : 0,
      v: null != e ? e : null,
    }
  })
}

function valueFromComposant(compdata, onError, dafaultValue) {
  if (compdata.error) {
    return onError
  } else {
    return undefined === compdata.value ? dafaultValue : compdata.value
  }
}

function ge(e) {
  return true === e ? 1 : false === e ? 0 : e
}

var be = [3, 7]

function we(e, t) {
  undefined === t && (t = randomByte)

  var n = t() % 4,
    r = (function (e) {
      if ('function' == typeof TextEncoder) return new TextEncoder().encode(e)

      for (var t = unescape(encodeURI(e)), n = new Uint8Array(t.length), r = 0; r < t.length; ++r) {
        n[r] = t.charCodeAt(r)
      }

      return n
    })(JSON.stringify(e)),
    i = 1 + be.length + 1 + n + 7 + r.length,
    o = new ArrayBuffer(i),
    a = new Uint8Array(o),
    s = 0,
    u = t()

  a[s++] = u

  for (var c = 0, l = be; c < l.length; c++) {
    var d = l[c]
    a[s++] = u + d
  }

  a[s++] = u + n

  for (var f = 0; f < n; ++f) {
    a[s++] = t()
  }

  var v = new Uint8Array(7)

  for (f = 0; f < 7; ++f) {
    ;(v[f] = t()), (a[s++] = v[f])
  }

  for (f = 0; f < r.length; ++f) {
    a[s++] = r[f] ^ v[f % 7]
  }

  return o
}

function getEndPoint(region, endpoint) {
  if (endpoint) return endpoint
  var regionDomain = 'api.fpjs.io'
  return 'us' !== region && (regionDomain = region + '.' + regionDomain), 'https://' + regionDomain
}

function ke(i, o) {
  var a = i.endpoint,
    extendedResult = i.extendedResult,
    u = __rest(i, ['endpoint', 'extendedResult'])
  return __awaiter(this, undefined, undefined, function () {
    var e
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          e = bundleData(Object.assign({ extendedResult }, u))
          return [4 /*yield*/, _e(a, e, o)]

        case 1:
          return [2 /*return*/, handleEndpointResponse(t.sent(), extendedResult)]
      }
    })
  })
}

function _e(url3, r, i) {
  return __awaiter(this, undefined, undefined, function () {
    var appendVersion
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          ;(appendVersion = (function (url4) {
            return url4 + (-1 === url4.indexOf('?') ? '?' : '&') + 'cv=' + encodeURIComponent(version)
          })(url3)),
            (t.label = 1)

        case 1:
          return (
            t.trys.push([1, 3, , 4]),
            [
              4 /*yield*/,
              loadProInternal(
                i,
                function () {
                  return {
                    e: 15,
                    endpoint: appendVersion,
                    request: r,
                  }
                },
                function (e) {
                  return {
                    e: 16,
                    status: e.status,
                    body: e.text,
                  }
                },
                function (err) {
                  return {
                    e: 17,
                    error: err,
                  }
                },
                function () {
                  return doHttpCall({
                    url: appendVersion,
                    method: 'post',
                    body: we(r),
                    headers: {
                      'Content-Type': 'text/plain',
                    },
                    withCredentials: true,
                  })
                },
              ),
            ]
          )

        case 2:
          return [2 /*return*/, t.sent()]

        case 3:
          let ooooo = t.sent()
          throw new Error('AbortError' === ooooo.name ? 'Network request aborted' : 'Network connection error')

        case 4:
          return [2]
      }
    })
  })
}

function handleEndpointResponse(response, extendedResult) {
  return __awaiter(this, undefined, undefined, function () {
    var data, i
    return __generator(this, function (/*t*/) {
      if (404 === response.status || response.status >= 500) throw new Error(response.statusText)

      try {
        data = JSON.parse(response.text)
      } catch (o) {
        throw new Error(response.text)
      }

      // have visitorId
      if (
        (function (jsonData) {
          return (
            jsonData &&
            'object' == typeof jsonData &&
            'string' == typeof jsonData.visitorId &&
            'n/a' !== jsonData.visitorId
          )
        })(data)
      )
        return logErrorLvl(data.notification), [2 /*return*/, processWithVisitorId(data)]

      if (
        (function (e) {
          return e && 'object' == typeof e && 'n/a' === e.visitorId
        })(data)
      ) {
        if (
          (logErrorLvl(data.notification),
          'Not available for crawl bots' === data.reason ||
            'Not available when User-Agent is unspecified' === data.reason)
        )
          return [2 /*return*/, processWithoutVisitorId(data, extendedResult)]
        throw (((i = new Error(data.reason)).requestId = data.requestId), i)
      }

      throw new Error(response.text)
    })
  })
}

function processWithVisitorId(e) {
  var t = e,
    botProbability = t.botProbability,
    o = (t.notification, __rest(t, ['botProbability', 'notification'])),
    a = Object.assign({}, o)
  return (
    botProbability &&
      (a.bot = {
        probability: botProbability,
      }),
    a
  )
}

function processWithoutVisitorId(e, extendedResult) {
  var r = {
    requestId: e.requestId,
    visitorFound: false,
    visitorId: '',
  }
  if (!extendedResult) return r
  var ressult = Object.assign(Object.assign({}, r), {
    bot: {
      probability: 1,
    },
    incognito: false,
    browserName: 'n/a',
    browserVersion: 'n/a',
    device: 'n/a',
    ip: 'n/a',
    ipLocation: {},
    os: 'n/a',
    osVersion: 'n/a',
  })
  if ('Not available for crawl bots' === e.reason) ressult.bot.safe = true
  return ressult
}

function logErrorLvl(errorData) {
  if (errorData) {
    var level = errorData.level,
      message = errorData.message
    'error' === level ? console.error(message) : 'warning' === level ? console.warn(message) : console.log(message)
  }
}

function getDataURL(e) {
  return e.toDataURL()
}

function getMaxMem() {
  var e, t
  return (
    (null === (t = null === (e = window.performance) || undefined === e ? undefined : e.memory) || undefined === t
      ? undefined
      : t.jsHeapSizeLimit) || 1073741824
  )
}

function Ae() {
  return __awaiter(this, undefined, undefined, function () {
    var e, n, r
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          e = navigator.storage
          n = navigator.webkitTemporaryStorage
          return n
            ? [
                4 /*yield*/,
                new Promise(function (e) {
                  n.queryUsageAndQuota(function (t, n) {
                    return e(n)
                  })
                }),
              ]
            : [3 /*break*/, 2]

        case 1:
          return (r = t.sent()), [3 /*break*/, 4]

        case 2:
          return (null == e ? undefined : e.estimate)
            ? [
                4 /*yield*/,
                e.estimate().then(function (e) {
                  return e.quota
                }),
              ]
            : [3 /*break*/, 4]

        case 3:
          r = t.sent()
          t.label = 4

        case 4:
          return r ? [2 /*return*/, r < getMaxMem()] : [2 /*return*/, false]
      }
    })
  })
}

function isInconito0() {
  return __awaiter(this, undefined, undefined, function () {
    return __generator(this, function (/*e*/) {
      return isDesktopSafari() ? [2 /*return*/, isInconitoSafari()] : [2 /*return*/, isInconito2()]
    })
  })
}

function isInconitoSafari() {
  var e
  if (!window.safari) return false
  try {
    window.safari.pushNotification.requestPermission('https://example.com', 'private', {}, function () {})
  } catch (error) {
    return (e = error), !new RegExp('gesture').test(e)
  }

  throw new Error('Unexpected lack of error')
}

function isInconito2() {
  return __awaiter(this, undefined, undefined, function () {
    var e
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          ;((e = document.createElement('iframe')).style.display = 'none'), (t.label = 1)

        case 1:
          return (
            t.trys.push([1, , 3, 4]),
            document.body.appendChild(e),
            [
              4 /*yield*/,
              Promise.race([
                delay(20, false),
                new Promise(function (t) {
                  e.contentWindow
                    ? e.contentWindow.applicationCache.addEventListener('error', function () {
                        return t(true)
                      })
                    : t(false)
                }),
              ]),
            ]
          )

        case 2:
          return [2 /*return*/, t.sent()]

        case 3:
          return e.remove(), [7]

        case 4:
          return [2]
      }
    })
  })
}

function isIncomito1() {
  try {
    window.openDatabase(null, null, null, null)
  } catch (n) {
    return true
  }

  try {
    window.localStorage.setItem('test', '1')
    window.localStorage.removeItem('test')
    return false
  } catch (n) {
    return true
  }
}

var De = [
  [
    function () {
      return isChromium()
    },
    function () {
      return __awaiter(this, undefined, undefined, function () {
        // eslint-disable-next-line no-unused-vars
        return __generator(this, function (e) {
          return (function () {
            var e = navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)
            if (!e) throw 'UserAgent is not Google Chrome'
            return parseInt(e[2], 10)
          })() >= 76
            ? [2 /*return*/, Ae()]
            : [
                2 /*return*/,
                new Promise(function (e) {
                  window.webkitRequestFileSystem(
                    0,
                    1,
                    function () {
                      return e(false)
                    },
                    function () {
                      return e(true)
                    },
                  )
                }),
              ]
        })
      })
    },
  ],
  [
    function () {
      return isWebKit()
    },
    function () {
      return __awaiter(this, undefined, undefined, function () {
        return __generator(this, function (/*e*/) {
          return isBrowser_() ? [2 /*return*/, isInconito0()] : [2 /*return*/, isIncomito1()]
        })
      })
    },
  ],
  [
    function () {
      return isGecko()
    },
    function () {
      return new Promise(function (e) {
        try {
          var t = indexedDB.open('test')
          ;(t.onerror = function () {
            return e(true)
          }),
            (t.onsuccess = function () {
              return e(false)
            })
        } catch (n) {
          return e(true)
        }
      })
    },
  ],
  [
    function () {
      return isTrident() || isEdgeHTML()
    },
    function () {
      try {
        if (!window.indexedDB) return true
      } catch (e) {
        return true
      }

      return false
    },
  ],
]

function Le() {
  return __awaiter(this, undefined, undefined, function () {
    var e, n, r, i, o
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          ;(e = 0), (n = De), (t.label = 1)

        case 1:
          return e < n.length
            ? ((r = n[e]), (i = r[0]), (o = r[1]), i() ? [4 /*yield*/, o()] : [3 /*break*/, 3])
            : [3 /*break*/, 4]

        case 2:
          return [2 /*return*/, t.sent()]

        case 3:
          return e++, [3 /*break*/, 1]

        case 4:
          return [2 /*return*/, false]
      }
    })
  })
}

function createDiv(divSpec) {
  var elmDigest = (function (divSpec) {
    var t, n
    var errorMsg = "Unexpected syntax '" + divSpec + "'"
    var regExpMatches = /^\s*([a-z-]*)(.*)$/i.exec(divSpec)
    var tagname = regExpMatches[1] || undefined
    var attribs = {}
    var s = /([.:#][\w-]+|\[.+?\])/gi
    var addAttribut = function addAttribut(attribut, value) {
      ;(attribs[attribut] = attribs[attribut] || []), attribs[attribut].push(value)
    }
    for (;;) {
      var c = s.exec(regExpMatches[2])
      if (!c) break
      var l = c[0]

      switch (l[0]) {
        case '.':
          addAttribut('class', l.slice(1))
          break

        case '#':
          addAttribut('id', l.slice(1))
          break

        case '[':
          var d = /^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(l)
          if (!d) throw new Error(errorMsg)
          addAttribut(
            d[1],
            null !== (n = null !== (t = d[4]) && undefined !== t ? t : d[5]) && undefined !== n ? n : '',
          )
          break

        default:
          throw new Error(errorMsg)
      }
    }
    return [tagname, attribs]
  })(divSpec)

  var tagname = elmDigest[0]
  var attrs = elmDigest[1]
  var newDiv = document.createElement(null != tagname ? tagname : 'div')
  var keys = Object.keys(attrs)
  for (var o = 0; o < keys.length; o++) {
    var s = keys[o]
    newDiv.setAttribute(s, attrs[s].join(' '))
  }
  return newDiv
}

var adBlockTestList = {
  abpIndo: [
    '#Iklan-Melayang',
    '#Kolom-Iklan-728',
    '#SidebarIklan-wrapper',
    'a[title="7naga poker" i]',
    'img[title="ALIENBOLA" i]',
  ],
  abpvn: [
    '#quangcaomb',
    '.i-said-no-thing-can-stop-me-warning.dark',
    '.quangcao',
    '[href^="https://r88.vn/"]',
    '[href^="https://zbet.vn/"]',
  ],
  adBlockFinland: [
    '.mainostila',
    '.sponsorit',
    '.ylamainos',
    'a[href*="/clickthrgh.asp?"]',
    'a[href^="https://app.readpeak.com/ads"]',
  ],
  adBlockPersian: [
    '.widget_arvins_ad_randomizer',
    'a[href^="https://iqoption.com/lp/mobile-partner/?aff="]',
    'a[href*="fastclick.net/ad/"]',
    'TABLE[width="140px"]',
    '.facebook_shows_ad_cale',
  ],
  adBlockWarningRemoval: [
    '#adblock_message',
    '.adblockInfo',
    '.deadblocker-header-bar',
    '.no-ad-reminder',
    '#AdBlockDialog',
  ],
  adGuardAnnoyances: ['amp-embed[type="zen"]', '.hs-sosyal', '#cookieconsentdiv', 'div[class^="app_gdpr"]', '.as-oil'],
  adGuardBase: ['.ad-disclaimer-container', '#content_ad_container', '#ad_wp_base', '#adxtop', '#bannerfloat22'],
  adGuardChinese: [
    'a[href*=".123ch.cn"]',
    'a[href*=".acuxrecv.cn"]',
    'a[href*=".bayiyy.com/download."]',
    'a[href*=".quankan.tv"]',
    '#j-new-ad',
  ],
  adGuardFrench: [
    '#div_banniere_pub',
    '#sp-entete-pour-la-pub',
    'a[href*="fducks.com/"]',
    'a[href^="http://promo.vador.com/"]',
    'a[href^="https://syndication.exdynsrv.com/"]',
  ],
  adGuardGerman: [
    '.banneritemwerbung_head_1',
    '.boxstartwerbung',
    '.werbung3',
    'a[href^="http://www.firstload.de/index.php?set_lang=de&log="]',
    'a[href^="http://www.sendung-now.de/tick/click.php?id="]',
  ],
  adGuardJapanese: [
    '.ad-text-blockA01',
    '._popIn_infinite_video',
    '[class^=blogroll_wrapper]',
    'a[href^="http://ad2.trafficgate.net/"]',
    'a[href^="http://www.rssad.jp/"]',
  ],
  adGuardMobile: ['amp-auto-ads', '#mgid_iframe', '.amp_ad', 'amp-sticky-ad', '.plugin-blogroll'],
  adGuardRussian: [
    'a[href^="https://ya-distrib.ru/r/"]',
    'a[href*=".twkv.ru"]',
    'div[data-adv-type="dfp"]',
    '.b-journalpromo-container',
    'div[id^="AdFox_banner_"]',
  ],
  adGuardSocial: [
    'a[href^="//www.stumbleupon.com/submit?url="]',
    'a[href^="//telegram.me/share/url?"]',
    '#___plusone_0',
    '#inlineShare',
    '.popup-social',
  ],
  adGuardSpanishPortuguese: [
    '.esp_publicidad',
    '#Publicidade',
    '#publiEspecial',
    '#queTooltip',
    '[href^="http://ads.glispa.com/"]',
  ],
  adGuardTrackingProtection: [
    'amp-embed[type="taboola"]',
    '#qoo-counter',
    'a[href^="http://click.hotlog.ru/"]',
    'a[href^="http://hitcounter.ru/top/stat.php"]',
    'a[href^="http://top.mail.ru/jump"]',
  ],
  adGuardTurkish: [
    '#backkapat',
    '#reklam',
    'a[href^="http://adserv.ontek.com.tr/"]',
    'a[href^="http://izlenzi.com/campaign/"]',
    'a[href^="http://www.installads.net/"]',
  ],
  bulgarian: ['#adbody', '#newAd', '#ea_intext_div', '.lapni-pop-over', '#xenium_hot_offers'],
  easyList: [
    '[lazy-ad="leftthin_banner"]',
    '.smart_ads_bom_title',
    '.slide-advert_float',
    '.six-ads-wrapper',
    '.showcaseAd',
  ],
  easyListChina: [
    '#fuo_top_float',
    '.kf_qycn_com_cckf_welcomebox',
    'a[href*=".caohang.com.cn/"]',
    'a[href*=".yuanmengbi.com/"]',
    '.layui-row[style="border-radius:10px;background-color:#ff0000;padding:15px;margin:15px;"]',
  ],
  easyListCookie: ['#cookieBgOverlay', '#alerte-cookies', '#cookieLY', '#dlgCookies', '.Section-Cookie'],
  easyListCzechSlovak: ['#onlajny-stickers', '#reklamni-box', '.reklama-megaboard', '.sklik', '[id^="sklikReklama"]'],
  easyListDutch: [
    '#advertentie',
    '#vipAdmarktBannerBlock',
    '.adstekst',
    'a[href^="http://adserver.webads.nl/adclick/"]',
    'a[href^="http://www.site-id.nl/servlet/___?"]',
  ],
  easyListGermany: [
    '.werb_textlink',
    '#ad-qm-sidebar-oben',
    '.adguru-content-html',
    '.nfy-sebo-ad',
    '.textlinkwerbung',
  ],
  easyListItaly: [
    '.box_adv_annunci',
    '.sb-box-pubbliredazionale',
    'a[href^="http://affiliazioniads.snai.it/"]',
    'a[href^="https://adserver.html.it/"]',
    'a[href^="https://affiliazioniads.snai.it/"]',
  ],
  easyListLithuania: [
    '.reklamos_tarpas',
    'a[href="http://igrovoi-klub.org/fair-land"]',
    'a[href="http://www.moteris.lt/didieji-grozio-pokyciai/"]',
    'img[alt="Dedikuoti.lt serveriai"]',
    'img[alt="Hostingas Serveriai.lt"]',
  ],
  estonian: [
    '.flex--align-items-center.flex--justify-content-center.flex.section-branding__digipakett-contents',
    'A[href*="http://pay4results24.eu"]',
  ],
  fanboyAnnoyances: [
    '#feedback-tab',
    '#ruby-back-top',
    '.feedburnerFeedBlock',
    '.widget-feedburner-counter',
    '[title="Subscribe to our blog"]',
  ],
  fanboyAntiFacebook: ['.util-bar-module-firefly-visible'],
  fanboyEnhancedTrackers: [
    '.open.pushModal',
    '#issuem-leaky-paywall-articles-zero-remaining-nag',
    'div[style*="box-shadow: rgb(136, 136, 136) 0px 0px 12px; color: "]',
    'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',
    '.BlockNag__Card',
  ],
  fanboySocial: [
    '.td-tags-and-social-wrapper-box',
    '.twitterContainer',
    '.youtube-social',
    'a[title^="Like us on Facebook"]',
    'img[alt^="Share on Digg"]',
  ],
  frellwitSwedish: [
    'a[href*="casinopro.se"][target="_blank"]',
    'a[href*="doktor-se.onelink.me"]',
    'article.category-samarbete',
    'img[alt="Leovegas"]',
    'ul.adsmodern',
  ],
  greekAdBlock: [
    'A[href*="adman.otenet.gr/click?"]',
    'A[href*="http://axiabanners.exodus.gr/"]',
    'A[href*="http://interactive.forthnet.gr/click?"]',
    'DIV.agores300',
    'TABLE.advright',
  ],
  hungarian: [
    'A[href*="ad.eval.hu"]',
    'A[href*="ad.netmedia.hu"]',
    'A[href*="daserver.ultraweb.hu"]',
    '#cemp_doboz',
    '.optimonk-iframe-container',
  ],
  iDontCareAboutCookies: [
    '.alert-info[data-block-track*="CookieNotice"]',
    '.ModuleTemplateCookieIndicator',
    '.o--cookies--container',
    '.cookie-msg-info-container',
    '#cookies-policy-sticky',
  ],
  icelandicAbp: ['A[href^="/framework/resources/forms/ads.aspx"]'],
  latvian: [
    'a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]',
    'a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]',
  ],
  listKr: [
    'a[href*="//kingtoon.slnk.kr"]',
    'a[href*="//playdsb.com/kr"]',
    'a[href*="//simba-kor.com"]',
    'div[data-widget_id="ml6EJ074"]',
    'ins.daum_ddn_area',
  ],
  listeAr: [
    '.geminiLB1Ad',
    '.right-and-left-sponsers',
    'a[href*=".aflam.info"]',
    'a[href*="booraq.org"]',
    'a[href*="dubizzle.com/ar/?utm_source="]',
  ],
  listeFr: [
    'a[href^="http://look.djfiln.com/"]',
    '#adcontainer_recherche',
    'a[href*="weborama.fr/fcgi-bin/"]',
    'a[href^="https://secure.securitetotale.fr/"]',
    'div[id^="crt-"][data-criteo-id]',
  ],
  officialPolish: [
    '#ceneo-placeholder-ceneo-12',
    '[href^="https://aff.sendhub.pl/"]',
    'a[href^="http://advmanager.techfun.pl/redirect/"]',
    'a[href^="http://www.trizer.pl/?utm_source"]',
    'div#skapiec_ad',
  ],
  ro: [
    'a[href^="//afftrk.altex.ro/Counter/Click"',
    'a[href^="/magazin/"',
    'a[href^="https://blackfridaysales.ro/trk/shop/"',
    'a[href^="https://event.2performant.com/events/click"',
    'a[href^="https://l.profitshare.ro/"]',
  ],
  ruAd: [
    'a[href*="//febrare.ru/"]',
    'a[href*="//utimg.ru/"]',
    'a[href*="://chikidiki.ru"]',
    '#pgeldiz',
    '.yandex-rtb-block',
  ],
  thaiAds: ['a[href*=macau-uta-popup]', '#ads-google-middle_rectangle-group', '.ads300s', '.bumq', '.img-kosana'],
  webAnnoyancesUltralist: [
    '#mod-social-share-2',
    '#social-tools',
    '.ctpl-fullbanner',
    '.j-share-bar-left',
    '.yt.btn-link.btn-md.btn',
  ],
}
var allAdList = Object.keys(adBlockTestList)

function Beddddddd(arrg0) {
  var r
  return __awaiter(this, undefined, undefined, function () {
    var theDiv, o, a, s, u, c, elm2, div2, f
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          theDiv = document.createElement('div')
          o = []
          a = {}
          setDisplayBlockImportant(theDiv)
          u = arrg0
          for (s = 0; s < u.length; s++) {
            c = u[s]
            elm2 = createDiv(c)
            div2 = document.createElement('div')
            setDisplayBlockImportant(div2)
            div2.appendChild(elm2)
            theDiv.appendChild(div2)
            o.push(elm2)
          }

          t.label = 1

        case 1:
          return document.body ? [3 /*break*/, 3] : [4 /*yield*/, delay(100)]

        case 2:
          return t.sent(), [3 /*break*/, 1]

        case 3:
          document.body.appendChild(theDiv)

          try {
            for (f = 0; f < arrg0.length; ++f) {
              o[f].offsetParent || (a[arrg0[f]] = true)
            }
          } finally {
            null === (r = theDiv.parentNode) || undefined === r || r.removeChild(theDiv)
          }

          return [2 /*return*/, a]
      }
    })
  })
}

function setDisplayBlockImportant(element) {
  element.style.setProperty('display', 'block', 'important')
}

function Ue(e, t) {
  if (e) {
    var n = {}
    if (t)
      for (var r = 0, adsList = allAdList; r < adsList.length; r++) {
        var selectors = adsList[r]
        n[selectors] = {}

        for (var a = 0, s = adBlockTestList[selectors]; a < s.length; a++) {
          var u = s[a]
          n[selectors][u] = !!t[u]
        }
      }
    e({
      e: 18,
      blocked: n,
    })
  }
}

function Tt(n, r) {
  var a, s
  return (
    undefined === r && (r = 4e3),
    __awaiter(this, undefined, undefined, function () {
      var e, u, c, d, f
      return __generator(this, function (t) {
        switch (t.label) {
          case 0:
            return document.body ? [3 /*break*/, 2] : [4 /*yield*/, delay(100)]

          case 1:
            return t.sent(), [3 /*break*/, 0]

          case 2:
            ;(e = document.createElement('iframe')), (t.label = 3)

          case 3:
            return (
              t.trys.push([3, , 9, 10]),
              [
                4 /*yield*/,
                new Promise(function (t, n) {
                  ;(e.onload = t),
                    (e.onerror = n),
                    e.style.setProperty('display', 'block', 'important'),
                    (e.style.position = 'absolute'),
                    (e.style.visibility = 'hidden'),
                    'srcdoc' in e
                      ? (e.srcdoc =
                          '<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')
                      : (e.src = 'about:blank'),
                    document.body.appendChild(e)
                }),
              ]
            )

          case 4:
            t.sent(), (t.label = 5)

          case 5:
            return (null === (a = e.contentWindow) || undefined === a ? undefined : a.document.body)
              ? [3 /*break*/, 7]
              : [4 /*yield*/, delay(100)]

          case 6:
            return t.sent(), [3 /*break*/, 5]

          case 7:
            return (
              (u = e.contentWindow),
              (c = u.document),
              ((d = c.body).style.width = r + 'px'),
              isChromium() ? (d.style.zoom = '' + 1 / u.devicePixelRatio) : isWebKit() && (d.style.zoom = 'reset'),
              ((f = c.createElement('div')).textContent = __spreadArrays(Array((r / 20) << 0))
                .map(function () {
                  return 'word'
                })
                .join(' ')),
              d.appendChild(f),
              [4 /*yield*/, n(c, d)]
            )

          case 8:
            return [2 /*return*/, t.sent()]

          case 9:
            return null === (s = e.parentNode) || undefined === s || s.removeChild(e), [7]

          case 10:
            return [2]
        }
      })
    })
  )
}

var componentsSources = {}
componentsSources[0] = function () {
  var e = screen

  if (e.availWidth && e.availHeight) {
    var dimensions = [0 | e.availWidth, 0 | e.availHeight]
    dimensions.sort().reverse()
    return dimensions
  }
}
componentsSources[1] = function () {
  var e = new Date().getFullYear()
  return Math.max(+new Date(e, 0, 1).getTimezoneOffset(), +new Date(e, 6, 1).getTimezoneOffset())
}
componentsSources[2] = function () {
  var Intl,
    t = null === (Intl = window.Intl) || undefined === Intl ? undefined : Intl.DateTimeFormat
  if (t) return new t().resolvedOptions().timeZone
}
// OK
componentsSources[3] = function () {
  var makeCanvasContext = (function () {
      const canvas = document.createElement('canvas')
      return (
        (canvas.width = 240),
        (canvas.height = 140),
        (canvas.style.display = 'inline'),
        [canvas, canvas.getContext('2d')]
      )
    })(),
    canvas = makeCanvasContext[0],
    context = makeCanvasContext[1]

  if (
    !(function (e, t) {
      return !(!t || !e.toDataURL)
    })(canvas, context)
  )
    return {
      winding: false,
      data: '',
    }
  context.rect(0, 0, 10, 10), context.rect(2, 2, 6, 6)
  var r = !context.isPointInPath(5, 5, 'evenodd')
  ;(context.textBaseline = 'alphabetic'),
    (context.fillStyle = '#f60'),
    context.fillRect(125, 1, 62, 20),
    (context.fillStyle = '#069'),
    (context.font = '11pt no-real-font-123')
  var i = 'Cwm fjordbank 😃 gly'
  return (
    context.fillText(i, 2, 15),
    (context.fillStyle = 'rgba(102, 204, 0, 0.2)'),
    (context.font = '18pt Arial'),
    context.fillText(i, 4, 45),
    (context.globalCompositeOperation = 'multiply'),
    (context.fillStyle = 'rgb(255,0,255)'),
    context.beginPath(),
    context.arc(50, 50, 50, 0, 2 * Math.PI, true),
    context.closePath(),
    context.fill(),
    (context.fillStyle = 'rgb(0,255,255)'),
    context.beginPath(),
    context.arc(100, 50, 50, 0, 2 * Math.PI, true),
    context.closePath(),
    context.fill(),
    (context.fillStyle = 'rgb(255,255,0)'),
    context.beginPath(),
    context.arc(75, 100, 50, 0, 2 * Math.PI, true),
    context.closePath(),
    context.fill(),
    (context.fillStyle = 'rgb(255,0,255)'),
    context.arc(75, 75, 75, 0, 2 * Math.PI, true),
    context.arc(75, 75, 25, 0, 2 * Math.PI, true),
    context.fill('evenodd'),
    {
      winding: r,
      data: getDataURL(canvas),
    }
  )
}

componentsSources[4] = function () {
  return undefined !== navigator.plugins
}

componentsSources[5] = function () {
  return navigator.platform
}

componentsSources[6] = function () {
  return navigator.webdriver
}

componentsSources[7] = function () {
  return __awaiter(this, undefined, undefined, function () {
    var e, n
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          e = navigator.permissions
          return e
            ? [
                4 /*yield*/,
                e.query({
                  name: 'notifications',
                }),
              ]
            : [2 /*return*/, undefined]

        case 1:
          return (
            (n = t.sent()),
            'undefined' == typeof Notification
              ? [2 /*return*/, undefined]
              : [2 /*return*/, 'denied' === Notification.permission && 'prompt' === n.state]
          )
      }
    })
  })
}

componentsSources[8] = function () {
  const win = window
  const doc = document
  const elm = doc.documentElement
  return (
    'webdriver' in win ||
    '_Selenium_IDE_Recorder' in win ||
    'callSelenium' in win ||
    '_selenium' in win ||
    '__webdriver_script_fn' in doc ||
    '__driver_evaluate' in doc ||
    '__webdriver_evaluate' in doc ||
    '__selenium_evaluate' in doc ||
    '__fxdriver_evaluate' in doc ||
    '__driver_unwrapped' in doc ||
    '__webdriver_unwrapped' in doc ||
    '__selenium_unwrapped' in doc ||
    '__fxdriver_unwrapped' in doc ||
    '__webdriver_script_func' in doc ||
    null !== elm.getAttribute('selenium') ||
    null !== elm.getAttribute('webdriver') ||
    null !== elm.getAttribute('driver')
  )
}

componentsSources[9] = function (option) {
  var storageKeyPrefix = option.storageKeyPrefix
  return __awaiter(this, undefined, undefined, function () {
    var storageKey, n, toStoreValue
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          return undefined !==
            (n = (function (e) {
              try {
                var t = localStorage.getItem(e)
                if (!t) return
                return '1' === t
              } catch (n) {
                return
              }
            })((storageKey = storageKeyPrefix + '_i')))
            ? [2 /*return*/, n]
            : [4 /*yield*/, Le()]

        case 1:
          return (
            (toStoreValue = t.sent()),
            (function (e, t) {
              try {
                localStorage.setItem(e, t ? '1' : '0')
              } catch (n) {}
            })(storageKey, toStoreValue),
            [2 /*return*/, toStoreValue]
          )
      }
    })
  })
}

function findInArray(zone, tofind) {
  if (0 == tofind.length || tofind.length > zone.length) return -1
  for (var n = 0; n < zone.length; n++) {
    for (var r = 0, i = 0; i < tofind.length; i++) {
      if (zone[n + i] !== tofind[i]) {
        r = 0
        break
      }
      r++
    }
    if (r == tofind.length) return n
  }
  return -1
}
componentsSources[10] = function () {
  if (!isChromium()) return false

  try {
    if ('Brave' in window) return true
    var t = document.createElement('canvas')
    ;(t.width = 4), (t.height = 4), (t.style.display = 'inline')
    var n = t.toDataURL()
    if ('' === n) return true
    var r = window.atob(n.split(',')[1])
    var i = r.length
    var thearray = new Uint8Array(i)

    for (let s = 0; s < i; s++) {
      thearray[s] = r.charCodeAt(s)
    }

    var foundIndex = findInArray(thearray, [73, 68, 65, 84, 24])
    if (-1 === foundIndex) return false
    var c = findInArray(thearray, [73, 69, 78, 68])
    return (
      -1 !== foundIndex &&
      1321 !==
        thearray.slice(foundIndex + 5, c).reduce(function (e, t) {
          return e + t
        }, 0)
    )
  } catch (l) {
    return false
  }
}

componentsSources[11] = function () {
  return __awaiter(this, undefined, undefined, function () {
    var e, n, r
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          if (((e = window), !(n = e.RTCPeerConnection || e.webkitRTCPeerConnection))) return [2 /*return*/, -3]
          ;(r = new n({
            iceServers: [],
          })),
            (t.label = 1)

        case 1:
          return (
            t.trys.push([1, , 3, 4]),
            [
              4 /*yield*/,
              new Promise(function (eFncParam, tParram) {
                var n,
                  o = [],
                  a = setTimeout(function () {
                    return eFncParam(-4)
                  }, 500),
                  s = function s() {
                    return eFncParam(__spreadArrays(o))
                  }

                ;(r.onicecandidate = function (e) {
                  var t = e.candidate
                  if (!t) return s()

                  if (t.candidate) {
                    if ((o.push(t.candidate), o.length >= 6)) return s()
                    1 === o.length && (clearTimeout(a), setTimeout(s, 10))
                  }
                }),
                  (r.onicegatheringstatechange = function () {
                    'complete' === r.iceGatheringState && s()
                  }),
                  (r.onicecandidateerror = tParram),
                  null === (n = r.createDataChannel) || undefined === n || n.call(r, 'test'),
                  (function (e, t) {
                    try {
                      return e.createOffer(t)
                    } catch (n) {
                      if (
                        /\bcreateOffer\b.*(\bcallback\b.*\bnot a function\b|\barguments required\b.*\bpresent\b)/i.test(
                          n.message,
                        )
                      )
                        return new Promise(function (n, r) {
                          e.createOffer(n, r, t)
                        })
                      throw n
                    }
                  })(r, {
                    offerToReceiveAudio: true,
                  }).then(function (e) {
                    return r.setLocalDescription(e)
                  }, tParram)
              }),
            ]
          )

        case 2:
          return [2 /*return*/, t.sent()]

        case 3:
          return r.close(), [7]

        case 4:
          return [2]
      }
    })
  })
}

function isInvalidAccessError(e) {
  if ('InvalidAccessError' === e.name) {
    if (/\bfrom\b.*\binsecure\b/i.test(e.message))
      return {
        s: -2,
        v: null,
      }
    if (/\bdifferent\b.*\borigin\b.*top.level\b.*\bframe\b/i.test(e.message))
      return {
        s: -3,
        v: null,
      }
  }
  throw e
}
componentsSources[12] = function () {
  return __awaiter(this, undefined, undefined, function () {
    var e
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          if ('function' != typeof (e = window.ApplePaySession))
            return [
              2 /*return*/,
              {
                s: -1,
                v: null,
              },
            ]
          t.label = 1

        case 1:
          return (
            t.trys.push([1, 3, , 4]),
            e.canMakePayments()
              ? isWebKit() && !isBrowser_()
                ? [
                    2 /*return*/,
                    {
                      s: 0,
                      v: 1,
                    },
                  ]
                : [4 /*yield*/, Promise.race([e.canMakePaymentsWithActiveCard(''), delay(250, false)])]
              : [
                  2 /*return*/,
                  {
                    s: 0,
                    v: 0,
                  },
                ]
          )

        case 2:
          return [
            2 /*return*/,
            {
              s: 0,
              v: t.sent() ? 3 : 2,
            },
          ]

        case 3:
          return [2 /*return*/, isInvalidAccessError(t.sent())]

        case 4:
          return [2]
      }
    })
  })
}

// AD block
componentsSources[13] = function (n) {
  var r = (undefined === n ? {} : n).debug
  return __awaiter(this, undefined, undefined, function () {
    var e, n, i
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          return isWebKit() ||
            ((s = window),
            (u = isChromium()),
            (c = isGecko()),
            (u || c) &&
              countTruthy([
                'onorientationchange' in s,
                'orientation' in s,
                u && 'SharedWorker' in s,
                c && /android/i.test(navigator.appVersion),
              ]) >= 2)
            ? [
                4 /*yield*/,
                Beddddddd(
                  (i = []).concat.apply(
                    i,
                    allAdList.map(function (e) {
                      return adBlockTestList[e]
                    }),
                  ),
                ),
              ]
            : (Ue(r, undefined), [2 /*return*/, undefined])

        case 1:
          return (
            (e = t.sent()),
            Ue(r, e),
            (n = allAdList.filter(function (t) {
              var n = adBlockTestList[t]
              return (
                countTruthy(
                  n.map(function (t) {
                    return e[t]
                  }),
                ) >
                0.5 * n.length
              )
            })).sort(),
            [2 /*return*/, n]
          )
      }

      var s, u, c
    })
  })
}

componentsSources[14] = function () {
  for (var e = 0, t = ['rec2020', 'p3', 'srgb']; e < t.length; e++) {
    var n = t[e]
    if (matchMedia('(color-gamut: ' + n + ')').matches) return n
  }
}

function getMatchMediaInvertedColors(e) {
  return matchMedia('(inverted-colors: ' + e + ')').matches
}
componentsSources[15] = function () {
  return !!getMatchMediaInvertedColors('inverted') || (!getMatchMediaInvertedColors('none') && undefined)
}

function getMatchMediaForcedColors(e) {
  return matchMedia('(forced-colors: ' + e + ')').matches
}
componentsSources[16] = function () {
  return !!getMatchMediaForcedColors('active') || (!getMatchMediaForcedColors('none') && undefined)
}

componentsSources[17] = function () {
  if (matchMedia('(min-monochrome: 0)').matches) {
    for (var e = 0; e <= 100; ++e) {
      if (matchMedia('(max-monochrome: ' + e + ')').matches) return e
    }

    throw new Error('Too high value')
  }
}

function getMatchMediaPrefersContrast(e) {
  return matchMedia('(prefers-contrast: ' + e + ')').matches
}
componentsSources[18] = function () {
  return getMatchMediaPrefersContrast('no-preference')
    ? 0
    : getMatchMediaPrefersContrast('high') || getMatchMediaPrefersContrast('more')
    ? 1
    : getMatchMediaPrefersContrast('low') || getMatchMediaPrefersContrast('less')
    ? -1
    : getMatchMediaPrefersContrast('forced')
    ? 10
    : undefined
}

function getMatchMediaPrefersReduceMotion(e) {
  return matchMedia('(prefers-reduced-motion: ' + e + ')').matches
}
componentsSources[19] = function () {
  return (
    !!getMatchMediaPrefersReduceMotion('reduce') || (!getMatchMediaPrefersReduceMotion('no-preference') && undefined)
  )
}

function getMatchMediaDynamicRange(e) {
  return matchMedia('(dynamic-range: ' + e + ')').matches
}
componentsSources[20] = function () {
  return !!getMatchMediaDynamicRange('high') || (!getMatchMediaDynamicRange('standard') && undefined)
}

componentsSources[21] = getScreenFrame

function getMatchMediaPrefersColorSchema(e) {
  return matchMedia('(prefers-color-scheme: ' + e + ')').matches
}
componentsSources[22] = function () {
  return !!getMatchMediaPrefersColorSchema('dark') || (!getMatchMediaPrefersColorSchema('light') && undefined)
}

componentsSources[23] = function () {
  var e = Date.now()
  return [e, e - 6e4 * new Date().getTimezoneOffset()]
}

const defMath = function defMath() {
  return 0
}
const mathAcos = Math.acos || defMath
const mathAcosh = Math.acosh || defMath
const mathAsin = Math.asin || defMath
const mathAsinh = Math.asinh || defMath
const mathAatanh = Math.atanh || defMath
const mathAtan = Math.atan || defMath
const mathSin = Math.sin || defMath
const mathSinh = Math.sinh || defMath
const mathCos = Math.cos || defMath
const mathCosh = Math.cosh || defMath
const mathTan = Math.tan || defMath
const mathTanh = Math.tanh || defMath
const mathExp = Math.exp || defMath
const mathExpm1 = Math.expm1 || defMath
const mathLog1p = Math.log1p || defMath
const mathPiPow = function mathPiPow(expo) {
  return Math.pow(Math.PI, expo)
}
const mathSqrtAprox = function mathSqrtAprox(e) {
  return Math.log(e + Math.sqrt(e * e + 1))
}
const mathLogAprox1 = function mathLogAprox1(e) {
  return Math.log((1 + e) / (1 - e)) / 2
}
const mathExpAprox1 = function mathExpAprox1(e) {
  return Math.exp(e) - 1 / Math.exp(e) / 2
}
const mathExpAprox2 = function mathExpAprox2(e) {
  return (Math.exp(e) + 1 / Math.exp(e)) / 2
}
const mathExpAprox3 = function mathExpAprox3(e) {
  return Math.exp(e) - 1
}
const mathExpAprox4 = function mathExpAprox4(e) {
  return (Math.exp(2 * e) - 1) / (Math.exp(2 * e) + 1)
}
const mathLogAprox2 = function mathLogAprox2(e) {
  return Math.log(1 + e)
}

componentsSources[24] = function () {
  var big = 1e154
  return {
    acos: mathAcos(0.12312423423423424),
    acosh: mathAcosh(1e308),
    acoshPf: Math.log(big + Math.sqrt(big * big - 1)),
    asin: mathAsin(0.12312423423423424),
    asinh: mathAsinh(1),
    asinhPf: mathSqrtAprox(1),
    atanh: mathAatanh(0.5),
    atanhPf: mathLogAprox1(0.5),
    atan: mathAtan(0.5),
    sin: mathSin(-1e300),
    sinh: mathSinh(1),
    sinhPf: mathExpAprox1(1),
    cos: mathCos(10.000000000123),
    cosh: mathCosh(1),
    coshPf: mathExpAprox2(1),
    tan: mathTan(-1e300),
    tanh: mathTanh(1),
    tanhPf: mathExpAprox4(1),
    exp: mathExp(1),
    expm1: mathExpm1(1),
    expm1Pf: mathExpAprox3(1),
    log1p: mathLog1p(10),
    log1pPf: mathLogAprox2(10),
    powPI: mathPiPow(-100),
  }
}

//////////////////////////////////
// performance

componentsSources[25] = function () {
  if ('performance' in window) {
    let min = 1
    let max = 1
    let time2 = performance.now()
    let time1 = time2
    for (var i = 0; i < 100000; i++) {
      time2 = time1
      time1 = performance.now()
      if (time2 < time1) {
        var delta = time1 - time2
        if (delta > min) {
          if (delta < max) max = delta
        } else {
          if (delta < min) {
            max = min
            min = delta
          }
        }
      }
    }
    return [min, max]
  }
}

////////
//jsHeapSizeLimit
componentsSources[26] = function () {
  const performance = window.performance
  if (!performance) return
  const memory = performance.memory
  if (!memory) return
  return memory.jsHeapSizeLimit
}

const fontDatas = {
  james: [],
  mary: [
    {
      font: '-apple-system-body',
    },
  ],
  john: [
    {
      fontFamily: 'serif',
    },
  ],
  patricia: [
    {
      fontFamily: 'sans-serif',
    },
  ],
  robert: [
    {
      fontFamily: 'monospace',
    },
  ],
  jennifer: [
    {
      fontSize: '1px',
    },
  ],
  michael: [
    {
      fontFamily: 'system-ui',
    },
  ],
}
componentsSources[27] = function () {
  return __awaiter(this, undefined, undefined, function () {
    var e
    return __generator(this, function (t) {
      switch (t.label) {
        case 0:
          return (
            (e = {}),
            [
              4 /*yield*/,
              Tt(function (t, n) {
                const fontDataKeys = Object.keys(fontDatas)
                let result = {}
                for (let i = 0; i < fontDataKeys.length; i++) {
                  var fontDataKey = fontDataKeys[i],
                    fontData = fontDatas[fontDataKey],
                    u = fontData[0],
                    c = undefined === u ? {} : u,
                    l = fontData[1],
                    d = undefined === l ? 'mmMwWLliI0fiflO&1' : l,
                    f = t.createElement('span')
                  ;(f.textContent = d), (f.style.whiteSpace = 'nowrap')

                  for (var v = 0, h = Object.keys(c); v < h.length; v++) {
                    var p = h[v],
                      m = c[p]
                    undefined !== m && (f.style[p] = m)
                  }

                  ;(result[fontDataKey] = f), n.appendChild(t.createElement('br')), n.appendChild(f)
                }

                for (var g = 0, b = Object.keys(fontDatas); g < b.length; g++) {
                  var w = result[(fontDataKey = b[g])].getBoundingClientRect()
                  e[fontDataKey] = [w.width, w.height]
                }
              }),
            ]
          )

        case 1:
          return t.sent(), [2 /*return*/, [e, !isGecko()]]
      }
    })
  })
}

////////////////////////
// WEBGL START

function mygetShaderPrecisionFormat(webgl, shaderType, precisionType) {
  var webGLShaderPrecisionFormat = webgl.getShaderPrecisionFormat(webgl[shaderType], webgl[precisionType])
  if (webGLShaderPrecisionFormat)
    return [
      webGLShaderPrecisionFormat.rangeMin,
      webGLShaderPrecisionFormat.rangeMax,
      webGLShaderPrecisionFormat.precision,
    ]
  return []
}

const webGLVarsText = [
  'MAX_TEXTURE_MAX_ANISOTROPY_EXT',
  'FRAGMENT_SHADER_DERIVATIVE_HINT_OES',
  'MAX_COLOR_ATTACHMENTS_WEBGL',
  'MAX_DRAW_BUFFERS_WEBGL',
  'DRAW_BUFFER0_WEBGL',
  'DRAW_BUFFER1_WEBGL',
  'VERTEX_ARRAY_BINDING_OES',
  'TIMESTAMP_EXT',
  'GPU_DISJOINT_EXT',
  'MAX_VIEWS_OVR',
]
const webGLVarsShaders = ['FRAGMENT_SHADER', 'VERTEX_SHADER']
const webGLVarsTypes = ['LOW_FLOAT', 'MEDIUM_FLOAT', 'HIGH_FLOAT', 'LOW_INT', 'MEDIUM_INT', 'HIGH_INT']
const webGlVendorList1 = [
  10752,
  2849,
  2884,
  2885,
  2886,
  2928,
  2929,
  2930,
  2931,
  2932,
  2960,
  2961,
  2962,
  2963,
  2964,
  2965,
  2966,
  2967,
  2968,
  2978,
  3024,
  3042,
  3088,
  3089,
  3106,
  3107,
  32773,
  32777,
  32777,
  32823,
  32824,
  32926,
  32928,
  32936,
  32937,
  32938,
  32939,
  32968,
  32969,
  32970,
  32971,
  3317,
  33170,
  3333,
  3379,
  3386,
  33901,
  33902,
  34016,
  34024,
  34076,
  3408,
  3410,
  3411,
  3412,
  3413,
  3414,
  3415,
  34467,
  34816,
  34817,
  34818,
  34819,
  34877,
  34921,
  34930,
  35660,
  35661,
  35724,
  35738,
  35739,
  36003,
  36004,
  36005,
  36347,
  36348,
  36349,
  37440,
  37441,
  37443,
  7936,
  7937,
  7938,
]

function isValidprotoKey(propname) {
  return 'string' == typeof propname && !propname.match(/[^A-Z0-9_x]/)
}

function getProtoFilteredKeys(object) {
  return Object.keys(object.__proto__).filter(isValidprotoKey)
}

componentsSources[28] = function () {
  const canvas = document.createElement('canvas')
  const webgl_names = ['webgl', 'experimental-webgl']
  let webgl = undefined

  for (let i = 0; i < webgl_names.length && !webgl; i++) {
    try {
      webgl = canvas.getContext(webgl_names[i])
    } catch (a) {}
  }

  if (webgl) {
    var oooo = Object.assign(
      Object.assign(
        {},
        (function (webgl) {
          const contextAttributes = webgl.getContextAttributes()
          const contextAttributesList = []
          const parametersList = []
          const extensionParametersList = []
          const shaderPrecisionsList = []

          for (var contextAttribute in contextAttributes) {
            if (Object.prototype.hasOwnProperty.call(contextAttributes, contextAttribute))
              contextAttributesList.push(contextAttribute + '=' + contextAttributes[contextAttribute])
          }

          const keyList = getProtoFilteredKeys(webgl)
          for (var p = 0; p < keyList.length; p++) {
            x = keyList[p]
            let value = webgl[x]
            if (webGlVendorList1.indexOf(value) > -1)
              parametersList.push(x + '(' + value + ')=' + webgl.getParameter(value))
            else parametersList.push(x + '=' + value)
          }

          const supportedExtensions = webgl.getSupportedExtensions()
          if (supportedExtensions) {
            for (var b = 0; b < supportedExtensions.length; b++) {
              let extName = supportedExtensions[b]
              let extention = webgl.getExtension(extName)
              if (extention) {
                const keyList = getProtoFilteredKeys(extention)
                for (let itr = 0; itr < keyList.length; itr++) {
                  var x = keyList[itr]
                  let value = extention[x]
                  if (webGLVarsText.indexOf(x) > 0)
                    extensionParametersList.push(x + '(' + value + ')=' + webgl.getParameter(value))
                  else extensionParametersList.push(x + '=' + value)
                }
              }
            }
          }
          for (let R = 0; R < webGLVarsShaders.length; R++) {
            const webGLVarsShader = webGLVarsShaders[R]
            for (let T = 0; T < webGLVarsTypes.length; T++) {
              const webGLVarsType = webGLVarsTypes[T]
              const fmts = mygetShaderPrecisionFormat(webgl, webGLVarsShader, webGLVarsType)
              shaderPrecisionsList.push(webGLVarsShader + '.' + webGLVarsType + '=' + fmts.join(','))
            }
          }
          extensionParametersList.sort()
          parametersList.sort()
          const webGlVersion = webgl.getParameter(webgl.VERSION)
          const webGlVendor = webgl.getParameter(webgl.VENDOR)

          const haveWebGlDebug = webgl.getExtension('WEBGL_debug_renderer_info')
          const umaskVendor = webgl.getParameter(haveWebGlDebug.UNMASKED_VENDOR_WEBGL) || ''
          const renderer = webgl.getParameter(webgl.RENDERER) || ''
          const unmaskedRenderer = webgl.getParameter(haveWebGlDebug.UNMASKED_RENDERER_WEBGL) || ''
          const shadingLangVer = webgl.getParameter(webgl.SHADING_LANGUAGE_VERSION) || ''
          return {
            version: webGlVersion.toString(),
            vendor: webGlVendor.toString(),
            vendorUnmasked: umaskVendor.toString(),
            renderer: renderer.toString(),
            rendererUnmasked: unmaskedRenderer.toString(),
            shadingLanguageVersion: shadingLangVer.toString(),
            contextAttributes: contextAttributesList.join('&'),
            parameters: parametersList.join('&'),
            shaderPrecisions: shaderPrecisionsList.join('&'),
            extensions: supportedExtensions ? supportedExtensions.join(',') : '',
            extensionParameters: extensionParametersList.join(','),
          }
        })(webgl),
      ),
      {
        fingerprint: '',
      },
    )

    ;(function (webgl) {
      webgl.clearColor(0, 0, 1, 1)
      var program = webgl.createProgram()
      function iiiiii(n, shaderFnc) {
        var shader = webgl.createShader(35633 - n)
        if (program && shader) {
          webgl.shaderSource(shader, shaderFnc)
          webgl.compileShader(shader)
          webgl.attachShader(program, shader)
        }
      }
      if (program) {
        iiiiii(
          0,
          'attribute vec2 p;uniform float t;void main(){float s=sin(t);float c=cos(t);gl_Position=vec4(p*mat2(c,s,-s,c),1,1);}',
        )
        iiiiii(1, 'void main(){gl_FragColor=vec4(1,0,0,1);}')
        webgl.linkProgram(program)
        webgl.useProgram(program)
        webgl.enableVertexAttribArray(0)
        var n = webgl.getUniformLocation(program, 't')
        var r = webgl.createBuffer()
        webgl.bindBuffer(34962, r)
        webgl.bufferData(34962, new Float32Array([0, 1, -1, -1, 1, -1]), 35044)
        webgl.vertexAttribPointer(0, 2, 5126, false, 0, 0)
        webgl.clear(16384)
        webgl.uniform1f(n, 3.65)
        webgl.drawArrays(4, 0, 3)
      }
    })(webgl)
    oooo.fingerprint = canvas.toDataURL()
    return oooo
  }
}

////////////////////////
// WEBGL DONE

function callGetComponents(sourceOptions) {
  return getComponents(componentsSources, sourceOptions, [])
}

function getKeyInCookie(storageKey) {
  for (var t = storageKey + '=', n = 0, r = document.cookie.split(';'); n < r.length; n++) {
    for (var i = r[n], o = 0; ' ' === i[o] && o < i.length; ) {
      ++o
    }

    if (i.indexOf(t) === o) return i.slice(o + t.length)
  }
}

function setCookie(key, value, nbDays, domain) {
  const cookieValue = key + '=' + value
  const cookieExpire = 'expires=' + new Date(Date.now() + 24 * nbDays * 60 * 60 * 1000).toUTCString()
  const cookieDomain = domain ? 'domain=' + domain : ''
  document.cookie = [cookieValue, 'path=/', cookieExpire, cookieDomain, 'SameSite=Lax'].join('; ')
}

function Mt(cookieName, cookieValue, paramDays) {
  var hostname = location.hostname
  ;(Dt(hostname, function (cookieDomain) {
    !(function (cookieName, cookieDomain) {
      setCookie(cookieName, '', -1, cookieDomain)
    })(cookieName, cookieDomain)
  }),
  paramDays < 0) ||
    (Dt(hostname, function (cookieDomain) {
      setCookie(cookieName, cookieValue, paramDays, cookieDomain)
      return getKeyInCookie(cookieName) !== cookieValue
    }) &&
      setCookie(cookieName, cookieValue, paramDays))
}

function Dt(hostname, doStoreValue) {
  var len = hostname.length
  do {
    len = len > 0 ? hostname.lastIndexOf('.', len - 1) : -1
    if (false === doStoreValue(hostname.slice(len + 1))) return false
  } while (len >= 0)
  return true
}

function getVisitorId(storageKey) {
  return [getKeyInCookie(storageKey), getInLocalStorage(storageKey)]
}

function Nt(e, t) {
  Mt(t, e, 365),
    (function (e, t) {
      var n
      try {
        null === (n = null === localStorage || undefined === localStorage ? undefined : localStorage.setItem) ||
          undefined === n ||
          n.call(localStorage, e, t)
      } catch (r) {}
    })(t, e)
}

function getInLocalStorage(storageKey) {
  var t, n

  try {
    return null !==
      (n =
        null === (t = null === localStorage || undefined === localStorage ? undefined : localStorage.getItem) ||
        undefined === t
          ? undefined
          : t.call(localStorage, storageKey)) && undefined !== n
      ? n
      : undefined
  } catch (r) {}
}

function qqttt(agentId, pppMProvider, callGetComponentsFnc, options) {
  var that = this,
    token = options.token,
    region = options.region,
    theRegion = undefined === region ? 'us' : region,
    endpoint = options.endpoint,
    tlsEndpoint = options.tlsEndpoint,
    storageKey = options.storageKey,
    theStorageKey = undefined === storageKey ? '_vid' : storageKey,
    debug = options.debug

  var m = function m(tag, linkedId, o, a, extendedResult, ipResolution, p) {
      return __awaiter(that, undefined, undefined, function () {
        var e, s, components, b
        return __generator(this, function (t) {
          switch (t.label) {
            case 0:
              return [4 /*yield*/, Promise.all([misteryCall(theRegion, tlsEndpoint, a, !!o, p), w(p)])]

            case 1:
              return (
                (e = t.sent()),
                (s = e[0]),
                (components = e[1]),
                [
                  4 /*yield*/,
                  ke(
                    Object.assign(Object.assign({}, s), {
                      token: token,
                      endpoint: getEndPoint(theRegion, endpoint),
                      components: components,
                      tag: tag,
                      visitorId: getVisitorId(theStorageKey),
                      linkedId: linkedId,
                      extendedResult: extendedResult,
                      ipResolution: ipResolution,
                    }),
                    p,
                  ),
                ]
              )

            case 2:
              b = t.sent()
              if (b.visitorId) Nt(b.visitorId, theStorageKey)
              return [2 /*return*/, b]
          }
        })
      })
    },
    misteryCall = function misteryCall(theRegion, tlsEndpoint, ii3, oo4, oo5) {
      return __awaiter(that, undefined, undefined, function () {
        // eslint-disable-next-line no-unused-vars
        return __generator(this, function (e) {
          return oo4
            ? [2 /*return*/, undefined]
            : [
                2 /*return*/,
                aaaeee(
                  (function (region, tlsEndpoint) {
                    return tlsEndpoint || endpoints[region]
                  })(theRegion, tlsEndpoint),
                  ii3,
                  oo5,
                ).then(
                  function (e) {
                    return {
                      tls: e,
                    }
                  },
                  function (e) {
                    return {
                      tlsError: e,
                    }
                  },
                ),
              ]
        })
      })
    },
    w = function w(debug) {
      return loadProInternal(
        debug,
        function () {
          return {
            e: 12,
          }
        },
        function (e) {
          return {
            e: 13,
            result: e,
          }
        },
        function (e) {
          return {
            e: 14,
            error: e,
          }
        },
        async function () {
          const r00 = await pppMProvider.get()
          const resull = await callGetComponentsFnc({
            storageKeyPrefix: theStorageKey,
            debug: debug,
          })
          return { ...r00.components, resull }
        },
      )
    }

  return {
    get: function get(e) {
      undefined === e && (e = {})
      var errorFilter =
        debug || e.debug
          ? (function (e, agentId, getCallId) {
              return function (i) {
                return e(
                  Object.assign(Object.assign({}, i), {
                    agentId: agentId,
                    getCallId: getCallId,
                  }),
                )
              }
            })(makeMulticastDebugger([debug, e.debug && makeConsoleDebugger()]), agentId, randomString(8))
          : undefined
      return loadProInternal(
        errorFilter,
        function () {
          return {
            e: 3,
            options: e,
          }
        },
        function (e) {
          return {
            e: 4,
            requestId: e.requestId,
            visitorId: e.visitorId,
            result: e,
          }
        },
        function (e) {
          return {
            e: 5,
            requestId: e.requestId,
            error: e,
          }
        },
        function () {
          var timeout = e.timeout,
            timeout5 = undefined === timeout ? 10000 : timeout,
            tag = e.tag,
            linkedId = e.linkedId,
            disableTls = e.disableTls,
            extendedResult = e.extendedResult,
            ipResolution = e.ipResolution
          return Promise.race([
            delayFocused(timeout5).then(function () {
              throw new Error('Client timeout')
            }),
            m(tag, linkedId, disableTls, 0.4 * timeout5, extendedResult, ipResolution, errorFilter),
          ])
        },
      )
    },
  }
}

function loadPro(option) {
  const that = this
  const agentId = randomString(8)

  return loadProInternal(
    option.debug,
    function () {
      return {
        e: 0,
        agentId: agentId,
        version: version,
        options: option,
      }
    },
    function () {
      return {
        e: 1,
        agentId: agentId,
      }
    },
    function (e) {
      return {
        e: 2,
        agentId: agentId,
        error: e,
      }
    },
    function () {
      return __awaiter(that, undefined, undefined, function () {
        var eProvider
        return __generator(this, function (t) {
          switch (t.label) {
            case 0:
              if (!option.token || 'string' != typeof option.token) throw new Error('Token required')
              return [
                4 /*yield*/,
                load({
                  delayFallback: option.delayFallback,
                }),
              ]

            case 1:
              eProvider = t.sent()
              return [2 /*return*/, qqttt(agentId, eProvider, callGetComponents, option)]
          }
        })
      })
    },
  )
}

const ERROR_CLIENT_TIMEOUT = 'Client timeout',
  ERROR_NETWORK_CONNECTION = 'Network connection error',
  ERROR_NETWORK_ABORT = 'Network request aborted',
  ERROR_TOKEN_MISSING = 'Token required',
  ERROR_TOKEN_INVALID = 'Token not found',
  ERROR_TOKEN_EXPIRED = 'Token expired',
  ERROR_BAD_REQUEST_FORMAT = 'Request cannot be parsed',
  ERROR_GENERAL_SERVER_FAILURE = 'Request failed',
  ERROR_SERVER_TIMEOUT = 'Request failed to process',
  ERROR_RATE_LIMIT = 'Too many requests, rate limit exceeded',
  ERROR_FORBIDDEN_ORIGIN = 'Not available for this origin',
  ERROR_FORBIDDEN_HEADER = 'Not available with restricted header',
  FingerPrintPro = {
    load: loadPro,
    ERROR_CLIENT_TIMEOUT,
    ERROR_NETWORK_CONNECTION,
    ERROR_NETWORK_ABORT,
    ERROR_TOKEN_MISSING,
    ERROR_TOKEN_INVALID,
    ERROR_TOKEN_EXPIRED,
    ERROR_BAD_REQUEST_FORMAT,
    ERROR_GENERAL_SERVER_FAILURE,
    ERROR_SERVER_TIMEOUT,
    ERROR_RATE_LIMIT,
    ERROR_FORBIDDEN_ORIGIN,
    ERROR_FORBIDDEN_HEADER,
  }
export default FingerPrintPro
export {
  ERROR_BAD_REQUEST_FORMAT,
  ERROR_CLIENT_TIMEOUT,
  ERROR_FORBIDDEN_HEADER,
  ERROR_FORBIDDEN_ORIGIN,
  ERROR_GENERAL_SERVER_FAILURE,
  ERROR_NETWORK_ABORT,
  ERROR_NETWORK_CONNECTION,
  ERROR_RATE_LIMIT,
  ERROR_SERVER_TIMEOUT,
  ERROR_TOKEN_EXPIRED,
  ERROR_TOKEN_INVALID,
  ERROR_TOKEN_MISSING,
  loadPro as load,
  makeConsoleDebugger,
  makeDebugReportBuilder,
  makeMulticastDebugger,
  makeRemoteDebugger,
}
